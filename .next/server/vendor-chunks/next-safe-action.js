"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/next-safe-action";
exports.ids = ["vendor-chunks/next-safe-action"];
exports.modules = {

/***/ "(action-browser)/./node_modules/next-safe-action/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/next-safe-action/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionBindArgsValidationError: () => (/* binding */ ActionBindArgsValidationError),\n/* harmony export */   ActionMetadataValidationError: () => (/* binding */ ActionMetadataValidationError),\n/* harmony export */   ActionOutputDataValidationError: () => (/* binding */ ActionOutputDataValidationError),\n/* harmony export */   ActionValidationError: () => (/* binding */ ActionValidationError),\n/* harmony export */   DEFAULT_SERVER_ERROR_MESSAGE: () => (/* binding */ DEFAULT_SERVER_ERROR_MESSAGE),\n/* harmony export */   createMiddleware: () => (/* binding */ createMiddleware),\n/* harmony export */   createSafeActionClient: () => (/* binding */ createSafeActionClient),\n/* harmony export */   flattenValidationErrors: () => (/* binding */ flattenValidationErrors),\n/* harmony export */   formatValidationErrors: () => (/* binding */ formatValidationErrors),\n/* harmony export */   returnValidationErrors: () => (/* binding */ returnValidationErrors)\n/* harmony export */ });\n// ../../node_modules/.pnpm/deepmerge-ts@7.1.5/node_modules/deepmerge-ts/dist/index.mjs\nvar actions = {\n\tdefaultMerge: Symbol(\"deepmerge-ts: default merge\"),\n\tskip: Symbol(\"deepmerge-ts: skip\"),\n};\nvar actionsInto = {\n\tdefaultMerge: actions.defaultMerge,\n};\nfunction defaultMetaDataUpdater(previousMeta, metaMeta) {\n\treturn metaMeta;\n}\nfunction defaultFilterValues(values, meta) {\n\treturn values.filter((value) => value !== void 0);\n}\nvar ObjectType;\n(function (ObjectType2) {\n\tObjectType2[(ObjectType2[\"NOT\"] = 0)] = \"NOT\";\n\tObjectType2[(ObjectType2[\"RECORD\"] = 1)] = \"RECORD\";\n\tObjectType2[(ObjectType2[\"ARRAY\"] = 2)] = \"ARRAY\";\n\tObjectType2[(ObjectType2[\"SET\"] = 3)] = \"SET\";\n\tObjectType2[(ObjectType2[\"MAP\"] = 4)] = \"MAP\";\n\tObjectType2[(ObjectType2[\"OTHER\"] = 5)] = \"OTHER\";\n})(ObjectType || (ObjectType = {}));\nfunction getObjectType(object) {\n\tif (typeof object !== \"object\" || object === null) {\n\t\treturn 0;\n\t}\n\tif (Array.isArray(object)) {\n\t\treturn 2;\n\t}\n\tif (isRecord(object)) {\n\t\treturn 1;\n\t}\n\tif (object instanceof Set) {\n\t\treturn 3;\n\t}\n\tif (object instanceof Map) {\n\t\treturn 4;\n\t}\n\treturn 5;\n}\nfunction getKeys(objects) {\n\tconst keys = /* @__PURE__ */ new Set();\n\tfor (const object of objects) {\n\t\tfor (const key of [...Object.keys(object), ...Object.getOwnPropertySymbols(object)]) {\n\t\t\tkeys.add(key);\n\t\t}\n\t}\n\treturn keys;\n}\nfunction objectHasProperty(object, property) {\n\treturn typeof object === \"object\" && Object.prototype.propertyIsEnumerable.call(object, property);\n}\nfunction getIterableOfIterables(iterables) {\n\tlet mut_iterablesIndex = 0;\n\tlet mut_iterator = iterables[0]?.[Symbol.iterator]();\n\treturn {\n\t\t[Symbol.iterator]() {\n\t\t\treturn {\n\t\t\t\tnext() {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (mut_iterator === void 0) {\n\t\t\t\t\t\t\treturn { done: true, value: void 0 };\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst result = mut_iterator.next();\n\t\t\t\t\t\tif (result.done === true) {\n\t\t\t\t\t\t\tmut_iterablesIndex += 1;\n\t\t\t\t\t\t\tmut_iterator = iterables[mut_iterablesIndex]?.[Symbol.iterator]();\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tdone: false,\n\t\t\t\t\t\t\tvalue: result.value,\n\t\t\t\t\t\t};\n\t\t\t\t\t} while (true);\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t};\n}\nvar validRecordToStringValues = [\"[object Object]\", \"[object Module]\"];\nfunction isRecord(value) {\n\tif (!validRecordToStringValues.includes(Object.prototype.toString.call(value))) {\n\t\treturn false;\n\t}\n\tconst { constructor } = value;\n\tif (constructor === void 0) {\n\t\treturn true;\n\t}\n\tconst prototype = constructor.prototype;\n\tif (\n\t\tprototype === null ||\n\t\ttypeof prototype !== \"object\" ||\n\t\t!validRecordToStringValues.includes(Object.prototype.toString.call(prototype))\n\t) {\n\t\treturn false;\n\t}\n\tif (!prototype.hasOwnProperty(\"isPrototypeOf\")) {\n\t\treturn false;\n\t}\n\treturn true;\n}\nfunction mergeRecords$1(values, utils, meta) {\n\tconst result = {};\n\tfor (const key of getKeys(values)) {\n\t\tconst propValues = [];\n\t\tfor (const value of values) {\n\t\t\tif (objectHasProperty(value, key)) {\n\t\t\t\tpropValues.push(value[key]);\n\t\t\t}\n\t\t}\n\t\tif (propValues.length === 0) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst updatedMeta = utils.metaDataUpdater(meta, {\n\t\t\tkey,\n\t\t\tparents: values,\n\t\t});\n\t\tconst propertyResult = mergeUnknowns(propValues, utils, updatedMeta);\n\t\tif (propertyResult === actions.skip) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (key === \"__proto__\") {\n\t\t\tObject.defineProperty(result, key, {\n\t\t\t\tvalue: propertyResult,\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\twritable: true,\n\t\t\t});\n\t\t} else {\n\t\t\tresult[key] = propertyResult;\n\t\t}\n\t}\n\treturn result;\n}\nfunction mergeArrays$1(values) {\n\treturn values.flat();\n}\nfunction mergeSets$1(values) {\n\treturn new Set(getIterableOfIterables(values));\n}\nfunction mergeMaps$1(values) {\n\treturn new Map(getIterableOfIterables(values));\n}\nfunction mergeOthers$1(values) {\n\treturn values.at(-1);\n}\nvar mergeFunctions = {\n\tmergeRecords: mergeRecords$1,\n\tmergeArrays: mergeArrays$1,\n\tmergeSets: mergeSets$1,\n\tmergeMaps: mergeMaps$1,\n\tmergeOthers: mergeOthers$1,\n};\nfunction deepmerge(...objects) {\n\treturn deepmergeCustom({})(...objects);\n}\nfunction deepmergeCustom(options, rootMetaData) {\n\tconst utils = getUtils(options, customizedDeepmerge);\n\tfunction customizedDeepmerge(...objects) {\n\t\treturn mergeUnknowns(objects, utils, rootMetaData);\n\t}\n\treturn customizedDeepmerge;\n}\nfunction getUtils(options, customizedDeepmerge) {\n\treturn {\n\t\tdefaultMergeFunctions: mergeFunctions,\n\t\tmergeFunctions: {\n\t\t\t...mergeFunctions,\n\t\t\t...Object.fromEntries(\n\t\t\t\tObject.entries(options)\n\t\t\t\t\t.filter(([key, option]) => Object.hasOwn(mergeFunctions, key))\n\t\t\t\t\t.map(([key, option]) => (option === false ? [key, mergeFunctions.mergeOthers] : [key, option]))\n\t\t\t),\n\t\t},\n\t\tmetaDataUpdater: options.metaDataUpdater ?? defaultMetaDataUpdater,\n\t\tdeepmerge: customizedDeepmerge,\n\t\tuseImplicitDefaultMerging: options.enableImplicitDefaultMerging ?? false,\n\t\tfilterValues: options.filterValues === false ? void 0 : (options.filterValues ?? defaultFilterValues),\n\t\tactions,\n\t};\n}\nfunction mergeUnknowns(values, utils, meta) {\n\tconst filteredValues = utils.filterValues?.(values, meta) ?? values;\n\tif (filteredValues.length === 0) {\n\t\treturn void 0;\n\t}\n\tif (filteredValues.length === 1) {\n\t\treturn mergeOthers(filteredValues, utils, meta);\n\t}\n\tconst type = getObjectType(filteredValues[0]);\n\tif (type !== 0 && type !== 5) {\n\t\tfor (let mut_index = 1; mut_index < filteredValues.length; mut_index++) {\n\t\t\tif (getObjectType(filteredValues[mut_index]) === type) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn mergeOthers(filteredValues, utils, meta);\n\t\t}\n\t}\n\tswitch (type) {\n\t\tcase 1: {\n\t\t\treturn mergeRecords(filteredValues, utils, meta);\n\t\t}\n\t\tcase 2: {\n\t\t\treturn mergeArrays(filteredValues, utils, meta);\n\t\t}\n\t\tcase 3: {\n\t\t\treturn mergeSets(filteredValues, utils, meta);\n\t\t}\n\t\tcase 4: {\n\t\t\treturn mergeMaps(filteredValues, utils, meta);\n\t\t}\n\t\tdefault: {\n\t\t\treturn mergeOthers(filteredValues, utils, meta);\n\t\t}\n\t}\n}\nfunction mergeRecords(values, utils, meta) {\n\tconst result = utils.mergeFunctions.mergeRecords(values, utils, meta);\n\tif (\n\t\tresult === actions.defaultMerge ||\n\t\t(utils.useImplicitDefaultMerging &&\n\t\t\tresult === void 0 &&\n\t\t\tutils.mergeFunctions.mergeRecords !== utils.defaultMergeFunctions.mergeRecords)\n\t) {\n\t\treturn utils.defaultMergeFunctions.mergeRecords(values, utils, meta);\n\t}\n\treturn result;\n}\nfunction mergeArrays(values, utils, meta) {\n\tconst result = utils.mergeFunctions.mergeArrays(values, utils, meta);\n\tif (\n\t\tresult === actions.defaultMerge ||\n\t\t(utils.useImplicitDefaultMerging &&\n\t\t\tresult === void 0 &&\n\t\t\tutils.mergeFunctions.mergeArrays !== utils.defaultMergeFunctions.mergeArrays)\n\t) {\n\t\treturn utils.defaultMergeFunctions.mergeArrays(values);\n\t}\n\treturn result;\n}\nfunction mergeSets(values, utils, meta) {\n\tconst result = utils.mergeFunctions.mergeSets(values, utils, meta);\n\tif (\n\t\tresult === actions.defaultMerge ||\n\t\t(utils.useImplicitDefaultMerging &&\n\t\t\tresult === void 0 &&\n\t\t\tutils.mergeFunctions.mergeSets !== utils.defaultMergeFunctions.mergeSets)\n\t) {\n\t\treturn utils.defaultMergeFunctions.mergeSets(values);\n\t}\n\treturn result;\n}\nfunction mergeMaps(values, utils, meta) {\n\tconst result = utils.mergeFunctions.mergeMaps(values, utils, meta);\n\tif (\n\t\tresult === actions.defaultMerge ||\n\t\t(utils.useImplicitDefaultMerging &&\n\t\t\tresult === void 0 &&\n\t\t\tutils.mergeFunctions.mergeMaps !== utils.defaultMergeFunctions.mergeMaps)\n\t) {\n\t\treturn utils.defaultMergeFunctions.mergeMaps(values);\n\t}\n\treturn result;\n}\nfunction mergeOthers(values, utils, meta) {\n\tconst result = utils.mergeFunctions.mergeOthers(values, utils, meta);\n\tif (\n\t\tresult === actions.defaultMerge ||\n\t\t(utils.useImplicitDefaultMerging &&\n\t\t\tresult === void 0 &&\n\t\t\tutils.mergeFunctions.mergeOthers !== utils.defaultMergeFunctions.mergeOthers)\n\t) {\n\t\treturn utils.defaultMergeFunctions.mergeOthers(values);\n\t}\n\treturn result;\n}\n\n// src/next/errors/bailout-to-csr.ts\nvar BAILOUT_TO_CSR = \"BAILOUT_TO_CLIENT_SIDE_RENDERING\";\nfunction isBailoutToCSRError(err) {\n\tif (typeof err !== \"object\" || err === null || !(\"digest\" in err)) {\n\t\treturn false;\n\t}\n\treturn err.digest === BAILOUT_TO_CSR;\n}\n\n// src/next/errors/http-access-fallback.ts\nvar HTTPAccessErrorStatus = {\n\tNOT_FOUND: 404,\n\tFORBIDDEN: 403,\n\tUNAUTHORIZED: 401,\n};\nvar ALLOWED_CODES = new Set(Object.values(HTTPAccessErrorStatus));\nvar HTTP_ERROR_FALLBACK_ERROR_CODE = \"NEXT_HTTP_ERROR_FALLBACK\";\nfunction isHTTPAccessFallbackError(error) {\n\tif (typeof error !== \"object\" || error === null || !(\"digest\" in error) || typeof error.digest !== \"string\") {\n\t\treturn false;\n\t}\n\tconst [prefix, httpStatus] = error.digest.split(\";\");\n\treturn prefix === HTTP_ERROR_FALLBACK_ERROR_CODE && ALLOWED_CODES.has(Number(httpStatus));\n}\nfunction getAccessFallbackHTTPStatus(error) {\n\tconst httpStatus = error.digest.split(\";\")[1];\n\treturn Number(httpStatus);\n}\n\n// src/next/errors/redirect.ts\nvar RedirectStatusCode = /* @__PURE__ */ ((RedirectStatusCode2) => {\n\tRedirectStatusCode2[(RedirectStatusCode2[\"SeeOther\"] = 303)] = \"SeeOther\";\n\tRedirectStatusCode2[(RedirectStatusCode2[\"TemporaryRedirect\"] = 307)] = \"TemporaryRedirect\";\n\tRedirectStatusCode2[(RedirectStatusCode2[\"PermanentRedirect\"] = 308)] = \"PermanentRedirect\";\n\treturn RedirectStatusCode2;\n})(RedirectStatusCode || {});\nvar REDIRECT_ERROR_CODE = \"NEXT_REDIRECT\";\nfunction isRedirectError(error) {\n\tif (typeof error !== \"object\" || error === null || !(\"digest\" in error) || typeof error.digest !== \"string\") {\n\t\treturn false;\n\t}\n\tconst digest = error.digest.split(\";\");\n\tconst [errorCode, type] = digest;\n\tconst destination = digest.slice(2, -2).join(\";\");\n\tconst status = digest.at(-2);\n\tconst statusCode = Number(status);\n\treturn (\n\t\terrorCode === REDIRECT_ERROR_CODE &&\n\t\t(type === \"replace\" || type === \"push\") &&\n\t\ttypeof destination === \"string\" &&\n\t\t!isNaN(statusCode) &&\n\t\tstatusCode in RedirectStatusCode\n\t);\n}\n\n// src/next/errors/router.ts\nfunction isNextRouterError(error) {\n\treturn isRedirectError(error) || isHTTPAccessFallbackError(error);\n}\n\n// src/next/errors/dynamic-usage.ts\nvar DYNAMIC_ERROR_CODE = \"DYNAMIC_SERVER_USAGE\";\nfunction isDynamicServerError(err) {\n\tif (typeof err !== \"object\" || err === null || !(\"digest\" in err) || typeof err.digest !== \"string\") {\n\t\treturn false;\n\t}\n\treturn err.digest === DYNAMIC_ERROR_CODE;\n}\nfunction isDynamicPostponeReason(reason) {\n\treturn (\n\t\treason.includes(\"needs to bail out of prerendering at this point because it used\") &&\n\t\treason.includes(\"Learn more: https://nextjs.org/docs/messages/ppr-caught-error\")\n\t);\n}\nfunction isDynamicPostpone(err) {\n\tif (\n\t\ttypeof err === \"object\" &&\n\t\terr !== null && // eslint-disable-next-line\n\t\ttypeof err.message === \"string\"\n\t) {\n\t\treturn isDynamicPostponeReason(err.message);\n\t}\n\treturn false;\n}\nvar isDynamicUsageError = (err) =>\n\tisDynamicServerError(err) || isBailoutToCSRError(err) || isNextRouterError(err) || isDynamicPostpone(err);\n\n// src/next/errors/postpone.ts\nvar REACT_POSTPONE_TYPE = Symbol.for(\"react.postpone\");\nfunction isPostpone(error) {\n\treturn (\n\t\ttypeof error === \"object\" &&\n\t\terror !== null && // eslint-disable-next-line\n\t\terror.$$typeof === REACT_POSTPONE_TYPE\n\t);\n}\n\n// src/next/errors/index.ts\nvar FrameworkErrorHandler = class _FrameworkErrorHandler {\n\t#frameworkError;\n\tstatic isNavigationError(error) {\n\t\treturn isNextRouterError(error) || isBailoutToCSRError(error) || isDynamicUsageError(error) || isPostpone(error);\n\t}\n\tstatic getNavigationKind(error) {\n\t\tif (isRedirectError(error)) {\n\t\t\treturn \"redirect\";\n\t\t} else if (isHTTPAccessFallbackError(error) && getAccessFallbackHTTPStatus(error) === 404) {\n\t\t\treturn \"notFound\";\n\t\t} else if (isHTTPAccessFallbackError(error) && getAccessFallbackHTTPStatus(error) === 403) {\n\t\t\treturn \"forbidden\";\n\t\t} else if (isHTTPAccessFallbackError(error) && getAccessFallbackHTTPStatus(error) === 401) {\n\t\t\treturn \"unauthorized\";\n\t\t} else {\n\t\t\treturn \"other\";\n\t\t}\n\t}\n\t// Used in action builder.\n\thandleError(e) {\n\t\tif (_FrameworkErrorHandler.isNavigationError(e)) {\n\t\t\tthis.#frameworkError = e;\n\t\t\treturn;\n\t\t}\n\t\tthrow e;\n\t}\n\tget error() {\n\t\treturn this.#frameworkError;\n\t}\n};\n\n// src/standard-schema.ts\nasync function standardParse(schema, value) {\n\treturn schema[\"~standard\"].validate(value);\n}\n\n// src/utils.ts\nvar DEFAULT_SERVER_ERROR_MESSAGE = \"Something went wrong while executing the operation.\";\nvar isError = (error) => error instanceof Error;\nvar winningBoolean = (...args) => {\n\treturn args.reduce((acc, v) => (typeof v === \"boolean\" ? v : acc), false);\n};\n\n// src/validation-errors.ts\nvar getKey = (segment) => (typeof segment === \"object\" ? segment.key : segment);\nvar getIssueMessage = (issue) => {\n\tif (issue.unionErrors) {\n\t\treturn issue.unionErrors.map((u) => u.issues.map((i) => i.message)).flat();\n\t}\n\treturn issue.message;\n};\nvar buildValidationErrors = (issues) => {\n\tconst ve = {};\n\tfor (const issue of issues) {\n\t\tconst { path, message, unionErrors } = issue;\n\t\tif (!path || path.length === 0) {\n\t\t\tve._errors = ve._errors ? [...ve._errors, message] : [message];\n\t\t\tcontinue;\n\t\t}\n\t\tlet ref = ve;\n\t\tfor (let i = 0; i < path.length - 1; i++) {\n\t\t\tconst k = getKey(path[i]);\n\t\t\tif (!ref[k]) {\n\t\t\t\tref[k] = {};\n\t\t\t}\n\t\t\tref = ref[k];\n\t\t}\n\t\tconst key = getKey(path[path.length - 1]);\n\t\tconst issueMessage = getIssueMessage(issue);\n\t\tref[key] = ref[key]?._errors\n\t\t\t? {\n\t\t\t\t\t...structuredClone(ref[key]),\n\t\t\t\t\t_errors: [...ref[key]._errors, issueMessage],\n\t\t\t\t}\n\t\t\t: { ...structuredClone(ref[key]), _errors: unionErrors ? issueMessage : [issueMessage] };\n\t}\n\treturn ve;\n};\nvar ActionServerValidationError = class extends Error {\n\tvalidationErrors;\n\tconstructor(validationErrors) {\n\t\tsuper(\"Server Action server validation error(s) occurred\");\n\t\tthis.validationErrors = validationErrors;\n\t}\n};\nvar ActionValidationError = class extends Error {\n\tvalidationErrors;\n\tconstructor(validationErrors, overriddenErrorMessage) {\n\t\tsuper(overriddenErrorMessage ?? \"Server Action validation error(s) occurred\");\n\t\tthis.validationErrors = validationErrors;\n\t}\n};\nvar ActionBindArgsValidationError = class extends Error {\n\tvalidationErrors;\n\tconstructor(validationErrors) {\n\t\tsuper(\"Server Action bind args validation error(s) occurred\");\n\t\tthis.validationErrors = validationErrors;\n\t}\n};\nfunction returnValidationErrors(schema, validationErrors) {\n\tthrow new ActionServerValidationError(validationErrors);\n}\nfunction formatValidationErrors(validationErrors) {\n\treturn validationErrors;\n}\nfunction flattenValidationErrors(validationErrors) {\n\tconst flattened = {\n\t\tformErrors: [],\n\t\tfieldErrors: {},\n\t};\n\tfor (const [key, value] of Object.entries(validationErrors ?? {})) {\n\t\tif (key === \"_errors\" && Array.isArray(value)) {\n\t\t\tflattened.formErrors = [...value];\n\t\t} else {\n\t\t\tif (\"_errors\" in value) {\n\t\t\t\tflattened.fieldErrors[key] = [...value._errors];\n\t\t\t}\n\t\t}\n\t}\n\treturn flattened;\n}\nvar ActionMetadataValidationError = class extends Error {\n\tvalidationErrors;\n\tconstructor(validationErrors) {\n\t\tsuper(\"Invalid metadata input. Please be sure to pass metadata via `metadata` method before defining the action.\");\n\t\tthis.name = \"ActionMetadataError\";\n\t\tthis.validationErrors = validationErrors;\n\t}\n};\nvar ActionOutputDataValidationError = class extends Error {\n\tvalidationErrors;\n\tconstructor(validationErrors) {\n\t\tsuper(\n\t\t\t\"Invalid action data (output). Please be sure to return data following the shape of the schema passed to `dataSchema` method.\"\n\t\t);\n\t\tthis.name = \"ActionOutputDataError\";\n\t\tthis.validationErrors = validationErrors;\n\t}\n};\n\n// src/action-builder.ts\nfunction actionBuilder(args) {\n\tconst bindArgsSchemas = args.bindArgsSchemas ?? [];\n\tfunction buildAction({ withState }) {\n\t\treturn {\n\t\t\taction: (serverCodeFn, utils) => {\n\t\t\t\treturn async (...clientInputs) => {\n\t\t\t\t\tlet currentCtx = {};\n\t\t\t\t\tconst middlewareResult = { success: false };\n\t\t\t\t\tlet prevResult = {};\n\t\t\t\t\tconst parsedInputDatas = [];\n\t\t\t\t\tconst frameworkErrorHandler = new FrameworkErrorHandler();\n\t\t\t\t\tlet serverErrorHandled = false;\n\t\t\t\t\tif (withState) {\n\t\t\t\t\t\tprevResult = clientInputs.splice(bindArgsSchemas.length, 1)[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (bindArgsSchemas.length + 1 > clientInputs.length) {\n\t\t\t\t\t\tclientInputs.push(void 0);\n\t\t\t\t\t}\n\t\t\t\t\tconst executeMiddlewareStack = async (idx = 0) => {\n\t\t\t\t\t\tif (frameworkErrorHandler.error) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst middlewareFn = args.middlewareFns[idx];\n\t\t\t\t\t\tmiddlewareResult.ctx = currentCtx;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (idx === 0) {\n\t\t\t\t\t\t\t\tif (args.metadataSchema) {\n\t\t\t\t\t\t\t\t\tconst parsedMd = await standardParse(args.metadataSchema, args.metadata);\n\t\t\t\t\t\t\t\t\tif (parsedMd.issues) {\n\t\t\t\t\t\t\t\t\t\tthrow new ActionMetadataValidationError(buildValidationErrors(parsedMd.issues));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (middlewareFn) {\n\t\t\t\t\t\t\t\tawait middlewareFn({\n\t\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\t\t// pass raw client input\n\t\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t\tnext: async (nextOpts) => {\n\t\t\t\t\t\t\t\t\t\tcurrentCtx = deepmerge(currentCtx, nextOpts?.ctx ?? {});\n\t\t\t\t\t\t\t\t\t\tawait executeMiddlewareStack(idx + 1);\n\t\t\t\t\t\t\t\t\t\treturn middlewareResult;\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}).catch((e) => {\n\t\t\t\t\t\t\t\t\tframeworkErrorHandler.handleError(e);\n\t\t\t\t\t\t\t\t\tif (frameworkErrorHandler.error) {\n\t\t\t\t\t\t\t\t\t\tmiddlewareResult.success = false;\n\t\t\t\t\t\t\t\t\t\tmiddlewareResult.navigationKind = FrameworkErrorHandler.getNavigationKind(\n\t\t\t\t\t\t\t\t\t\t\tframeworkErrorHandler.error\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst parsedInputs = await Promise.all(\n\t\t\t\t\t\t\t\t\tclientInputs.map(async (input, i) => {\n\t\t\t\t\t\t\t\t\t\tif (i === clientInputs.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\tif (typeof args.inputSchemaFn === \"undefined\") {\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: void 0,\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn standardParse(await args.inputSchemaFn(), input);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn standardParse(bindArgsSchemas[i], input);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tlet hasBindValidationErrors = false;\n\t\t\t\t\t\t\t\tconst bindArgsValidationErrors = Array(parsedInputs.length - 1).fill({});\n\t\t\t\t\t\t\t\tfor (let i = 0; i < parsedInputs.length; i++) {\n\t\t\t\t\t\t\t\t\tconst parsedInput = parsedInputs[i];\n\t\t\t\t\t\t\t\t\tif (!parsedInput.issues) {\n\t\t\t\t\t\t\t\t\t\tparsedInputDatas.push(parsedInput.value);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (i < parsedInputs.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\tbindArgsValidationErrors[i] = buildValidationErrors(parsedInput.issues);\n\t\t\t\t\t\t\t\t\t\t\thasBindValidationErrors = true;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tconst validationErrors = buildValidationErrors(parsedInput.issues);\n\t\t\t\t\t\t\t\t\t\t\tmiddlewareResult.validationErrors = await Promise.resolve(\n\t\t\t\t\t\t\t\t\t\t\t\targs.handleValidationErrorsShape(validationErrors, {\n\t\t\t\t\t\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (hasBindValidationErrors) {\n\t\t\t\t\t\t\t\t\tthrow new ActionBindArgsValidationError(bindArgsValidationErrors);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (middlewareResult.validationErrors) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst scfArgs = [];\n\t\t\t\t\t\t\t\tscfArgs[0] = {\n\t\t\t\t\t\t\t\t\tparsedInput: parsedInputDatas.at(-1),\n\t\t\t\t\t\t\t\t\tbindArgsParsedInputs: parsedInputDatas.slice(0, -1),\n\t\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tif (withState) {\n\t\t\t\t\t\t\t\t\tscfArgs[1] = { prevResult: structuredClone(prevResult) };\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst data = await serverCodeFn(...scfArgs).catch((e) => frameworkErrorHandler.handleError(e));\n\t\t\t\t\t\t\t\tif (typeof args.outputSchema !== \"undefined\" && !frameworkErrorHandler.error) {\n\t\t\t\t\t\t\t\t\tconst parsedData = await standardParse(args.outputSchema, data);\n\t\t\t\t\t\t\t\t\tif (parsedData.issues) {\n\t\t\t\t\t\t\t\t\t\tthrow new ActionOutputDataValidationError(buildValidationErrors(parsedData.issues));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (frameworkErrorHandler.error) {\n\t\t\t\t\t\t\t\t\tmiddlewareResult.success = false;\n\t\t\t\t\t\t\t\t\tmiddlewareResult.navigationKind = FrameworkErrorHandler.getNavigationKind(\n\t\t\t\t\t\t\t\t\t\tframeworkErrorHandler.error\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmiddlewareResult.success = true;\n\t\t\t\t\t\t\t\t\tmiddlewareResult.data = data;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmiddlewareResult.parsedInput = parsedInputDatas.at(-1);\n\t\t\t\t\t\t\t\tmiddlewareResult.bindArgsParsedInputs = parsedInputDatas.slice(0, -1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tif (serverErrorHandled) {\n\t\t\t\t\t\t\t\tthrow e;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (e instanceof ActionServerValidationError) {\n\t\t\t\t\t\t\t\tconst ve = e.validationErrors;\n\t\t\t\t\t\t\t\tmiddlewareResult.validationErrors = await Promise.resolve(\n\t\t\t\t\t\t\t\t\targs.handleValidationErrorsShape(ve, {\n\t\t\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tserverErrorHandled = true;\n\t\t\t\t\t\t\t\tconst error = isError(e) ? e : new Error(DEFAULT_SERVER_ERROR_MESSAGE);\n\t\t\t\t\t\t\t\tconst returnedError = await Promise.resolve(\n\t\t\t\t\t\t\t\t\targs.handleServerError(error, {\n\t\t\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\t\t\t// pass raw client input\n\t\t\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tmiddlewareResult.serverError = returnedError;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tawait executeMiddlewareStack();\n\t\t\t\t\tconst callbackPromises = [];\n\t\t\t\t\tif (frameworkErrorHandler.error) {\n\t\t\t\t\t\tcallbackPromises.push(\n\t\t\t\t\t\t\tutils?.onNavigation?.({\n\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\tnavigationKind: FrameworkErrorHandler.getNavigationKind(frameworkErrorHandler.error),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t\tcallbackPromises.push(\n\t\t\t\t\t\t\tutils?.onSettled?.({\n\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\tresult: {},\n\t\t\t\t\t\t\t\tnavigationKind: FrameworkErrorHandler.getNavigationKind(frameworkErrorHandler.error),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait Promise.all(callbackPromises);\n\t\t\t\t\t\tthrow frameworkErrorHandler.error;\n\t\t\t\t\t}\n\t\t\t\t\tconst actionResult = {};\n\t\t\t\t\tif (typeof middlewareResult.validationErrors !== \"undefined\") {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\twinningBoolean(\n\t\t\t\t\t\t\t\targs.throwValidationErrors,\n\t\t\t\t\t\t\t\ttypeof utils?.throwValidationErrors === \"undefined\" ? void 0 : Boolean(utils.throwValidationErrors)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst overrideErrorMessageFn =\n\t\t\t\t\t\t\t\ttypeof utils?.throwValidationErrors === \"object\" && utils?.throwValidationErrors.overrideErrorMessage\n\t\t\t\t\t\t\t\t\t? utils?.throwValidationErrors.overrideErrorMessage\n\t\t\t\t\t\t\t\t\t: void 0;\n\t\t\t\t\t\t\tthrow new ActionValidationError(\n\t\t\t\t\t\t\t\tmiddlewareResult.validationErrors,\n\t\t\t\t\t\t\t\tawait overrideErrorMessageFn?.(middlewareResult.validationErrors)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactionResult.validationErrors = middlewareResult.validationErrors;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof middlewareResult.serverError !== \"undefined\") {\n\t\t\t\t\t\tif (utils?.throwServerError) {\n\t\t\t\t\t\t\tthrow middlewareResult.serverError;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactionResult.serverError = middlewareResult.serverError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (middlewareResult.success) {\n\t\t\t\t\t\tif (typeof middlewareResult.data !== \"undefined\") {\n\t\t\t\t\t\t\tactionResult.data = middlewareResult.data;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcallbackPromises.push(\n\t\t\t\t\t\t\tutils?.onSuccess?.({\n\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\tdata: actionResult.data,\n\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\tparsedInput: parsedInputDatas.at(-1),\n\t\t\t\t\t\t\t\tbindArgsParsedInputs: parsedInputDatas.slice(0, -1),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallbackPromises.push(\n\t\t\t\t\t\t\tutils?.onError?.({\n\t\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\t\terror: actionResult,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tcallbackPromises.push(\n\t\t\t\t\t\tutils?.onSettled?.({\n\t\t\t\t\t\t\tmetadata: args.metadata,\n\t\t\t\t\t\t\tctx: currentCtx,\n\t\t\t\t\t\t\tclientInput: clientInputs.at(-1),\n\t\t\t\t\t\t\tbindArgsClientInputs: bindArgsSchemas.length ? clientInputs.slice(0, -1) : [],\n\t\t\t\t\t\t\tresult: actionResult,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\tawait Promise.all(callbackPromises);\n\t\t\t\t\treturn actionResult;\n\t\t\t\t};\n\t\t\t},\n\t\t};\n\t}\n\treturn {\n\t\t/**\n\t\t * Define the action.\n\t\t * @param serverCodeFn Code that will be executed on the **server side**\n\t\t *\n\t\t * {@link https://next-safe-action.dev/docs/define-actions/instance-methods#action--stateaction See docs for more information}\n\t\t */\n\t\taction: buildAction({ withState: false }).action,\n\t\t/**\n\t\t * Define the stateful action. To be used with the [`useStateAction`](https://next-safe-action.dev/docs/execute-actions/hooks/usestateaction) hook.\n\t\t * @param serverCodeFn Code that will be executed on the **server side**\n\t\t *\n\t\t * {@link https://next-safe-action.dev/docs/define-actions/instance-methods#action--stateaction See docs for more information}\n\t\t */\n\t\tstateAction: buildAction({ withState: true }).action,\n\t};\n}\n\n// src/safe-action-client.ts\nvar SafeActionClient = class _SafeActionClient {\n\t#args;\n\tconstructor(args) {\n\t\tthis.#args = args;\n\t}\n\t/**\n\t * Use a middleware function.\n\t * @param middlewareFn Middleware function\n\t *\n\t * {@link https://next-safe-action.dev/docs/define-actions/instance-methods#use See docs for more information}\n\t */\n\tuse(middlewareFn) {\n\t\treturn new _SafeActionClient({\n\t\t\t...this.#args,\n\t\t\tmiddlewareFns: [...this.#args.middlewareFns, middlewareFn],\n\t\t\tctxType: {},\n\t\t});\n\t}\n\t/**\n\t * Define metadata for the action.\n\t * @param data Metadata with the same type as the return value of the [`defineMetadataSchema`](https://next-safe-action.dev/docs/define-actions/create-the-client#definemetadataschema) optional initialization function\n\t *\n\t * {@link https://next-safe-action.dev/docs/define-actions/instance-methods#metadata See docs for more information}\n\t */\n\tmetadata(data) {\n\t\treturn new _SafeActionClient({\n\t\t\t...this.#args,\n\t\t\tmetadata: data,\n\t\t\tmetadataProvided: true,\n\t\t});\n\t}\n\t/**\n\t * Define the input validation schema for the action.\n\t * @param inputSchema Input validation schema\n\t * @param utils Optional utils object\n\t *\n\t * {@link https://next-safe-action.dev/docs/define-actions/create-the-client#inputschema See docs for more information}\n\t */\n\tinputSchema(inputSchema, utils) {\n\t\treturn new _SafeActionClient({\n\t\t\t...this.#args,\n\t\t\t// @ts-expect-error\n\t\t\tinputSchemaFn:\n\t\t\t\tinputSchema[Symbol.toStringTag] === \"AsyncFunction\"\n\t\t\t\t\t? async () => {\n\t\t\t\t\t\t\tconst prevSchema = await this.#args.inputSchemaFn?.();\n\t\t\t\t\t\t\treturn inputSchema(prevSchema);\n\t\t\t\t\t\t}\n\t\t\t\t\t: async () => inputSchema,\n\t\t\thandleValidationErrorsShape: utils?.handleValidationErrorsShape ?? this.#args.handleValidationErrorsShape,\n\t\t});\n\t}\n\t/**\n\t * @deprecated Alias for `inputSchema` method. Use that instead.\n\t */\n\tschema = this.inputSchema;\n\t/**\n\t * Define the bind args input validation schema for the action.\n\t * @param bindArgsSchemas Bind args input validation schemas\n\t *\n\t * {@link https://next-safe-action.dev/docs/define-actions/instance-methods#bindargsschemas See docs for more information}\n\t */\n\tbindArgsSchemas(bindArgsSchemas) {\n\t\treturn new _SafeActionClient({\n\t\t\t...this.#args,\n\t\t\tbindArgsSchemas,\n\t\t\thandleValidationErrorsShape: this.#args.handleValidationErrorsShape,\n\t\t});\n\t}\n\t/**\n\t * Define the output data validation schema for the action.\n\t * @param schema Output data validation schema\n\t *\n\t * {@link https://next-safe-action.dev/docs/define-actions/create-the-client#outputschema See docs for more information}\n\t */\n\toutputSchema(dataSchema) {\n\t\treturn new _SafeActionClient({\n\t\t\t...this.#args,\n\t\t\toutputSchema: dataSchema,\n\t\t});\n\t}\n\t/**\n\t * Define the action.\n\t * @param serverCodeFn Code that will be executed on the **server side**\n\t * @param [cb] Optional callbacks that will be called after action execution, on the server.\n\t *\n\t * {@link https://next-safe-action.dev/docs/define-actions/instance-methods#action--stateaction See docs for more information}\n\t */\n\taction(serverCodeFn, utils) {\n\t\treturn actionBuilder(this.#args).action(serverCodeFn, utils);\n\t}\n\t/**\n\t * Define the stateful action.\n\t * To be used with the [`useStateAction`](https://next-safe-action.dev/docs/execute-actions/hooks/usestateaction) hook.\n\t * @param serverCodeFn Code that will be executed on the **server side**\n\t * @param [cb] Optional callbacks that will be called after action execution, on the server.\n\t *\n\t * {@link https://next-safe-action.dev/docs/define-actions/instance-methods#action--stateaction See docs for more information}\n\t */\n\tstateAction(serverCodeFn, utils) {\n\t\treturn actionBuilder(this.#args).stateAction(serverCodeFn, utils);\n\t}\n};\n\n// src/middleware.ts\nvar createMiddleware = () => {\n\treturn {\n\t\tdefine: (middlewareFn) => middlewareFn,\n\t};\n};\n\n// src/index.ts\nvar createSafeActionClient = (createOpts) => {\n\tconst handleServerError =\n\t\tcreateOpts?.handleServerError ||\n\t\t((e) => {\n\t\t\tconsole.error(\"Action error:\", e.message);\n\t\t\treturn DEFAULT_SERVER_ERROR_MESSAGE;\n\t\t});\n\treturn new SafeActionClient({\n\t\tmiddlewareFns: [async ({ next }) => next({ ctx: {} })],\n\t\thandleServerError,\n\t\tinputSchemaFn: void 0,\n\t\tbindArgsSchemas: [],\n\t\toutputSchema: void 0,\n\t\tctxType: {},\n\t\tmetadataSchema: createOpts?.defineMetadataSchema?.() ?? void 0,\n\t\tmetadata: void 0,\n\t\tdefaultValidationErrorsShape: createOpts?.defaultValidationErrorsShape ?? \"formatted\",\n\t\tthrowValidationErrors: Boolean(createOpts?.throwValidationErrors),\n\t\thandleValidationErrorsShape: async (ve) =>\n\t\t\tcreateOpts?.defaultValidationErrorsShape === \"flattened\"\n\t\t\t\t? flattenValidationErrors(ve)\n\t\t\t\t: formatValidationErrors(ve),\n\t});\n};\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0LXNhZmUtYWN0aW9uL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0NBQWdDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsY0FBYztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsbUNBQW1DO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBCQUEwQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDZCQUE2QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHFCQUFxQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpRUFBaUU7QUFDakU7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsV0FBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQTtBQUNBLFVBQVU7QUFDVixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLCtFQUErRTtBQUMvRSx3QkFBd0IseUJBQXlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLHdCQUF3QixrQkFBa0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSw2QkFBNkIsaUJBQWlCO0FBQzlDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDJCQUEyQixNQUFNLFlBQVksU0FBUztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBWUU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3lib3QvYnllL2J5ZS9ub2RlX21vZHVsZXMvbmV4dC1zYWZlLWFjdGlvbi9kaXN0L2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZGVlcG1lcmdlLXRzQDcuMS41L25vZGVfbW9kdWxlcy9kZWVwbWVyZ2UtdHMvZGlzdC9pbmRleC5tanNcbnZhciBhY3Rpb25zID0ge1xuXHRkZWZhdWx0TWVyZ2U6IFN5bWJvbChcImRlZXBtZXJnZS10czogZGVmYXVsdCBtZXJnZVwiKSxcblx0c2tpcDogU3ltYm9sKFwiZGVlcG1lcmdlLXRzOiBza2lwXCIpLFxufTtcbnZhciBhY3Rpb25zSW50byA9IHtcblx0ZGVmYXVsdE1lcmdlOiBhY3Rpb25zLmRlZmF1bHRNZXJnZSxcbn07XG5mdW5jdGlvbiBkZWZhdWx0TWV0YURhdGFVcGRhdGVyKHByZXZpb3VzTWV0YSwgbWV0YU1ldGEpIHtcblx0cmV0dXJuIG1ldGFNZXRhO1xufVxuZnVuY3Rpb24gZGVmYXVsdEZpbHRlclZhbHVlcyh2YWx1ZXMsIG1ldGEpIHtcblx0cmV0dXJuIHZhbHVlcy5maWx0ZXIoKHZhbHVlKSA9PiB2YWx1ZSAhPT0gdm9pZCAwKTtcbn1cbnZhciBPYmplY3RUeXBlO1xuKGZ1bmN0aW9uIChPYmplY3RUeXBlMikge1xuXHRPYmplY3RUeXBlMlsoT2JqZWN0VHlwZTJbXCJOT1RcIl0gPSAwKV0gPSBcIk5PVFwiO1xuXHRPYmplY3RUeXBlMlsoT2JqZWN0VHlwZTJbXCJSRUNPUkRcIl0gPSAxKV0gPSBcIlJFQ09SRFwiO1xuXHRPYmplY3RUeXBlMlsoT2JqZWN0VHlwZTJbXCJBUlJBWVwiXSA9IDIpXSA9IFwiQVJSQVlcIjtcblx0T2JqZWN0VHlwZTJbKE9iamVjdFR5cGUyW1wiU0VUXCJdID0gMyldID0gXCJTRVRcIjtcblx0T2JqZWN0VHlwZTJbKE9iamVjdFR5cGUyW1wiTUFQXCJdID0gNCldID0gXCJNQVBcIjtcblx0T2JqZWN0VHlwZTJbKE9iamVjdFR5cGUyW1wiT1RIRVJcIl0gPSA1KV0gPSBcIk9USEVSXCI7XG59KShPYmplY3RUeXBlIHx8IChPYmplY3RUeXBlID0ge30pKTtcbmZ1bmN0aW9uIGdldE9iamVjdFR5cGUob2JqZWN0KSB7XG5cdGlmICh0eXBlb2Ygb2JqZWN0ICE9PSBcIm9iamVjdFwiIHx8IG9iamVjdCA9PT0gbnVsbCkge1xuXHRcdHJldHVybiAwO1xuXHR9XG5cdGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcblx0XHRyZXR1cm4gMjtcblx0fVxuXHRpZiAoaXNSZWNvcmQob2JqZWN0KSkge1xuXHRcdHJldHVybiAxO1xuXHR9XG5cdGlmIChvYmplY3QgaW5zdGFuY2VvZiBTZXQpIHtcblx0XHRyZXR1cm4gMztcblx0fVxuXHRpZiAob2JqZWN0IGluc3RhbmNlb2YgTWFwKSB7XG5cdFx0cmV0dXJuIDQ7XG5cdH1cblx0cmV0dXJuIDU7XG59XG5mdW5jdGlvbiBnZXRLZXlzKG9iamVjdHMpIHtcblx0Y29uc3Qga2V5cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5cdGZvciAoY29uc3Qgb2JqZWN0IG9mIG9iamVjdHMpIHtcblx0XHRmb3IgKGNvbnN0IGtleSBvZiBbLi4uT2JqZWN0LmtleXMob2JqZWN0KSwgLi4uT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpXSkge1xuXHRcdFx0a2V5cy5hZGQoa2V5KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGtleXM7XG59XG5mdW5jdGlvbiBvYmplY3RIYXNQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5KSB7XG5cdHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHByb3BlcnR5KTtcbn1cbmZ1bmN0aW9uIGdldEl0ZXJhYmxlT2ZJdGVyYWJsZXMoaXRlcmFibGVzKSB7XG5cdGxldCBtdXRfaXRlcmFibGVzSW5kZXggPSAwO1xuXHRsZXQgbXV0X2l0ZXJhdG9yID0gaXRlcmFibGVzWzBdPy5bU3ltYm9sLml0ZXJhdG9yXSgpO1xuXHRyZXR1cm4ge1xuXHRcdFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bmV4dCgpIHtcblx0XHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0XHRpZiAobXV0X2l0ZXJhdG9yID09PSB2b2lkIDApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHZvaWQgMCB9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gbXV0X2l0ZXJhdG9yLm5leHQoKTtcblx0XHRcdFx0XHRcdGlmIChyZXN1bHQuZG9uZSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0XHRtdXRfaXRlcmFibGVzSW5kZXggKz0gMTtcblx0XHRcdFx0XHRcdFx0bXV0X2l0ZXJhdG9yID0gaXRlcmFibGVzW211dF9pdGVyYWJsZXNJbmRleF0/LltTeW1ib2wuaXRlcmF0b3JdKCk7XG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0ZG9uZTogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdHZhbHVlOiByZXN1bHQudmFsdWUsXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH0gd2hpbGUgKHRydWUpO1xuXHRcdFx0XHR9LFxuXHRcdFx0fTtcblx0XHR9LFxuXHR9O1xufVxudmFyIHZhbGlkUmVjb3JkVG9TdHJpbmdWYWx1ZXMgPSBbXCJbb2JqZWN0IE9iamVjdF1cIiwgXCJbb2JqZWN0IE1vZHVsZV1cIl07XG5mdW5jdGlvbiBpc1JlY29yZCh2YWx1ZSkge1xuXHRpZiAoIXZhbGlkUmVjb3JkVG9TdHJpbmdWYWx1ZXMuaW5jbHVkZXMoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSkpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Y29uc3QgeyBjb25zdHJ1Y3RvciB9ID0gdmFsdWU7XG5cdGlmIChjb25zdHJ1Y3RvciA9PT0gdm9pZCAwKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0Y29uc3QgcHJvdG90eXBlID0gY29uc3RydWN0b3IucHJvdG90eXBlO1xuXHRpZiAoXG5cdFx0cHJvdG90eXBlID09PSBudWxsIHx8XG5cdFx0dHlwZW9mIHByb3RvdHlwZSAhPT0gXCJvYmplY3RcIiB8fFxuXHRcdCF2YWxpZFJlY29yZFRvU3RyaW5nVmFsdWVzLmluY2x1ZGVzKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm90b3R5cGUpKVxuXHQpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0aWYgKCFwcm90b3R5cGUuaGFzT3duUHJvcGVydHkoXCJpc1Byb3RvdHlwZU9mXCIpKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gbWVyZ2VSZWNvcmRzJDEodmFsdWVzLCB1dGlscywgbWV0YSkge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBrZXkgb2YgZ2V0S2V5cyh2YWx1ZXMpKSB7XG5cdFx0Y29uc3QgcHJvcFZhbHVlcyA9IFtdO1xuXHRcdGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XG5cdFx0XHRpZiAob2JqZWN0SGFzUHJvcGVydHkodmFsdWUsIGtleSkpIHtcblx0XHRcdFx0cHJvcFZhbHVlcy5wdXNoKHZhbHVlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAocHJvcFZhbHVlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHRjb25zdCB1cGRhdGVkTWV0YSA9IHV0aWxzLm1ldGFEYXRhVXBkYXRlcihtZXRhLCB7XG5cdFx0XHRrZXksXG5cdFx0XHRwYXJlbnRzOiB2YWx1ZXMsXG5cdFx0fSk7XG5cdFx0Y29uc3QgcHJvcGVydHlSZXN1bHQgPSBtZXJnZVVua25vd25zKHByb3BWYWx1ZXMsIHV0aWxzLCB1cGRhdGVkTWV0YSk7XG5cdFx0aWYgKHByb3BlcnR5UmVzdWx0ID09PSBhY3Rpb25zLnNraXApIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHRpZiAoa2V5ID09PSBcIl9fcHJvdG9fX1wiKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzdWx0LCBrZXksIHtcblx0XHRcdFx0dmFsdWU6IHByb3BlcnR5UmVzdWx0LFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdFtrZXldID0gcHJvcGVydHlSZXN1bHQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtZXJnZUFycmF5cyQxKHZhbHVlcykge1xuXHRyZXR1cm4gdmFsdWVzLmZsYXQoKTtcbn1cbmZ1bmN0aW9uIG1lcmdlU2V0cyQxKHZhbHVlcykge1xuXHRyZXR1cm4gbmV3IFNldChnZXRJdGVyYWJsZU9mSXRlcmFibGVzKHZhbHVlcykpO1xufVxuZnVuY3Rpb24gbWVyZ2VNYXBzJDEodmFsdWVzKSB7XG5cdHJldHVybiBuZXcgTWFwKGdldEl0ZXJhYmxlT2ZJdGVyYWJsZXModmFsdWVzKSk7XG59XG5mdW5jdGlvbiBtZXJnZU90aGVycyQxKHZhbHVlcykge1xuXHRyZXR1cm4gdmFsdWVzLmF0KC0xKTtcbn1cbnZhciBtZXJnZUZ1bmN0aW9ucyA9IHtcblx0bWVyZ2VSZWNvcmRzOiBtZXJnZVJlY29yZHMkMSxcblx0bWVyZ2VBcnJheXM6IG1lcmdlQXJyYXlzJDEsXG5cdG1lcmdlU2V0czogbWVyZ2VTZXRzJDEsXG5cdG1lcmdlTWFwczogbWVyZ2VNYXBzJDEsXG5cdG1lcmdlT3RoZXJzOiBtZXJnZU90aGVycyQxLFxufTtcbmZ1bmN0aW9uIGRlZXBtZXJnZSguLi5vYmplY3RzKSB7XG5cdHJldHVybiBkZWVwbWVyZ2VDdXN0b20oe30pKC4uLm9iamVjdHMpO1xufVxuZnVuY3Rpb24gZGVlcG1lcmdlQ3VzdG9tKG9wdGlvbnMsIHJvb3RNZXRhRGF0YSkge1xuXHRjb25zdCB1dGlscyA9IGdldFV0aWxzKG9wdGlvbnMsIGN1c3RvbWl6ZWREZWVwbWVyZ2UpO1xuXHRmdW5jdGlvbiBjdXN0b21pemVkRGVlcG1lcmdlKC4uLm9iamVjdHMpIHtcblx0XHRyZXR1cm4gbWVyZ2VVbmtub3ducyhvYmplY3RzLCB1dGlscywgcm9vdE1ldGFEYXRhKTtcblx0fVxuXHRyZXR1cm4gY3VzdG9taXplZERlZXBtZXJnZTtcbn1cbmZ1bmN0aW9uIGdldFV0aWxzKG9wdGlvbnMsIGN1c3RvbWl6ZWREZWVwbWVyZ2UpIHtcblx0cmV0dXJuIHtcblx0XHRkZWZhdWx0TWVyZ2VGdW5jdGlvbnM6IG1lcmdlRnVuY3Rpb25zLFxuXHRcdG1lcmdlRnVuY3Rpb25zOiB7XG5cdFx0XHQuLi5tZXJnZUZ1bmN0aW9ucyxcblx0XHRcdC4uLk9iamVjdC5mcm9tRW50cmllcyhcblx0XHRcdFx0T2JqZWN0LmVudHJpZXMob3B0aW9ucylcblx0XHRcdFx0XHQuZmlsdGVyKChba2V5LCBvcHRpb25dKSA9PiBPYmplY3QuaGFzT3duKG1lcmdlRnVuY3Rpb25zLCBrZXkpKVxuXHRcdFx0XHRcdC5tYXAoKFtrZXksIG9wdGlvbl0pID0+IChvcHRpb24gPT09IGZhbHNlID8gW2tleSwgbWVyZ2VGdW5jdGlvbnMubWVyZ2VPdGhlcnNdIDogW2tleSwgb3B0aW9uXSkpXG5cdFx0XHQpLFxuXHRcdH0sXG5cdFx0bWV0YURhdGFVcGRhdGVyOiBvcHRpb25zLm1ldGFEYXRhVXBkYXRlciA/PyBkZWZhdWx0TWV0YURhdGFVcGRhdGVyLFxuXHRcdGRlZXBtZXJnZTogY3VzdG9taXplZERlZXBtZXJnZSxcblx0XHR1c2VJbXBsaWNpdERlZmF1bHRNZXJnaW5nOiBvcHRpb25zLmVuYWJsZUltcGxpY2l0RGVmYXVsdE1lcmdpbmcgPz8gZmFsc2UsXG5cdFx0ZmlsdGVyVmFsdWVzOiBvcHRpb25zLmZpbHRlclZhbHVlcyA9PT0gZmFsc2UgPyB2b2lkIDAgOiAob3B0aW9ucy5maWx0ZXJWYWx1ZXMgPz8gZGVmYXVsdEZpbHRlclZhbHVlcyksXG5cdFx0YWN0aW9ucyxcblx0fTtcbn1cbmZ1bmN0aW9uIG1lcmdlVW5rbm93bnModmFsdWVzLCB1dGlscywgbWV0YSkge1xuXHRjb25zdCBmaWx0ZXJlZFZhbHVlcyA9IHV0aWxzLmZpbHRlclZhbHVlcz8uKHZhbHVlcywgbWV0YSkgPz8gdmFsdWVzO1xuXHRpZiAoZmlsdGVyZWRWYWx1ZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHRpZiAoZmlsdGVyZWRWYWx1ZXMubGVuZ3RoID09PSAxKSB7XG5cdFx0cmV0dXJuIG1lcmdlT3RoZXJzKGZpbHRlcmVkVmFsdWVzLCB1dGlscywgbWV0YSk7XG5cdH1cblx0Y29uc3QgdHlwZSA9IGdldE9iamVjdFR5cGUoZmlsdGVyZWRWYWx1ZXNbMF0pO1xuXHRpZiAodHlwZSAhPT0gMCAmJiB0eXBlICE9PSA1KSB7XG5cdFx0Zm9yIChsZXQgbXV0X2luZGV4ID0gMTsgbXV0X2luZGV4IDwgZmlsdGVyZWRWYWx1ZXMubGVuZ3RoOyBtdXRfaW5kZXgrKykge1xuXHRcdFx0aWYgKGdldE9iamVjdFR5cGUoZmlsdGVyZWRWYWx1ZXNbbXV0X2luZGV4XSkgPT09IHR5cGUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWVyZ2VPdGhlcnMoZmlsdGVyZWRWYWx1ZXMsIHV0aWxzLCBtZXRhKTtcblx0XHR9XG5cdH1cblx0c3dpdGNoICh0eXBlKSB7XG5cdFx0Y2FzZSAxOiB7XG5cdFx0XHRyZXR1cm4gbWVyZ2VSZWNvcmRzKGZpbHRlcmVkVmFsdWVzLCB1dGlscywgbWV0YSk7XG5cdFx0fVxuXHRcdGNhc2UgMjoge1xuXHRcdFx0cmV0dXJuIG1lcmdlQXJyYXlzKGZpbHRlcmVkVmFsdWVzLCB1dGlscywgbWV0YSk7XG5cdFx0fVxuXHRcdGNhc2UgMzoge1xuXHRcdFx0cmV0dXJuIG1lcmdlU2V0cyhmaWx0ZXJlZFZhbHVlcywgdXRpbHMsIG1ldGEpO1xuXHRcdH1cblx0XHRjYXNlIDQ6IHtcblx0XHRcdHJldHVybiBtZXJnZU1hcHMoZmlsdGVyZWRWYWx1ZXMsIHV0aWxzLCBtZXRhKTtcblx0XHR9XG5cdFx0ZGVmYXVsdDoge1xuXHRcdFx0cmV0dXJuIG1lcmdlT3RoZXJzKGZpbHRlcmVkVmFsdWVzLCB1dGlscywgbWV0YSk7XG5cdFx0fVxuXHR9XG59XG5mdW5jdGlvbiBtZXJnZVJlY29yZHModmFsdWVzLCB1dGlscywgbWV0YSkge1xuXHRjb25zdCByZXN1bHQgPSB1dGlscy5tZXJnZUZ1bmN0aW9ucy5tZXJnZVJlY29yZHModmFsdWVzLCB1dGlscywgbWV0YSk7XG5cdGlmIChcblx0XHRyZXN1bHQgPT09IGFjdGlvbnMuZGVmYXVsdE1lcmdlIHx8XG5cdFx0KHV0aWxzLnVzZUltcGxpY2l0RGVmYXVsdE1lcmdpbmcgJiZcblx0XHRcdHJlc3VsdCA9PT0gdm9pZCAwICYmXG5cdFx0XHR1dGlscy5tZXJnZUZ1bmN0aW9ucy5tZXJnZVJlY29yZHMgIT09IHV0aWxzLmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZVJlY29yZHMpXG5cdCkge1xuXHRcdHJldHVybiB1dGlscy5kZWZhdWx0TWVyZ2VGdW5jdGlvbnMubWVyZ2VSZWNvcmRzKHZhbHVlcywgdXRpbHMsIG1ldGEpO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtZXJnZUFycmF5cyh2YWx1ZXMsIHV0aWxzLCBtZXRhKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHV0aWxzLm1lcmdlRnVuY3Rpb25zLm1lcmdlQXJyYXlzKHZhbHVlcywgdXRpbHMsIG1ldGEpO1xuXHRpZiAoXG5cdFx0cmVzdWx0ID09PSBhY3Rpb25zLmRlZmF1bHRNZXJnZSB8fFxuXHRcdCh1dGlscy51c2VJbXBsaWNpdERlZmF1bHRNZXJnaW5nICYmXG5cdFx0XHRyZXN1bHQgPT09IHZvaWQgMCAmJlxuXHRcdFx0dXRpbHMubWVyZ2VGdW5jdGlvbnMubWVyZ2VBcnJheXMgIT09IHV0aWxzLmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZUFycmF5cylcblx0KSB7XG5cdFx0cmV0dXJuIHV0aWxzLmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZUFycmF5cyh2YWx1ZXMpO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtZXJnZVNldHModmFsdWVzLCB1dGlscywgbWV0YSkge1xuXHRjb25zdCByZXN1bHQgPSB1dGlscy5tZXJnZUZ1bmN0aW9ucy5tZXJnZVNldHModmFsdWVzLCB1dGlscywgbWV0YSk7XG5cdGlmIChcblx0XHRyZXN1bHQgPT09IGFjdGlvbnMuZGVmYXVsdE1lcmdlIHx8XG5cdFx0KHV0aWxzLnVzZUltcGxpY2l0RGVmYXVsdE1lcmdpbmcgJiZcblx0XHRcdHJlc3VsdCA9PT0gdm9pZCAwICYmXG5cdFx0XHR1dGlscy5tZXJnZUZ1bmN0aW9ucy5tZXJnZVNldHMgIT09IHV0aWxzLmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZVNldHMpXG5cdCkge1xuXHRcdHJldHVybiB1dGlscy5kZWZhdWx0TWVyZ2VGdW5jdGlvbnMubWVyZ2VTZXRzKHZhbHVlcyk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1lcmdlTWFwcyh2YWx1ZXMsIHV0aWxzLCBtZXRhKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHV0aWxzLm1lcmdlRnVuY3Rpb25zLm1lcmdlTWFwcyh2YWx1ZXMsIHV0aWxzLCBtZXRhKTtcblx0aWYgKFxuXHRcdHJlc3VsdCA9PT0gYWN0aW9ucy5kZWZhdWx0TWVyZ2UgfHxcblx0XHQodXRpbHMudXNlSW1wbGljaXREZWZhdWx0TWVyZ2luZyAmJlxuXHRcdFx0cmVzdWx0ID09PSB2b2lkIDAgJiZcblx0XHRcdHV0aWxzLm1lcmdlRnVuY3Rpb25zLm1lcmdlTWFwcyAhPT0gdXRpbHMuZGVmYXVsdE1lcmdlRnVuY3Rpb25zLm1lcmdlTWFwcylcblx0KSB7XG5cdFx0cmV0dXJuIHV0aWxzLmRlZmF1bHRNZXJnZUZ1bmN0aW9ucy5tZXJnZU1hcHModmFsdWVzKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbWVyZ2VPdGhlcnModmFsdWVzLCB1dGlscywgbWV0YSkge1xuXHRjb25zdCByZXN1bHQgPSB1dGlscy5tZXJnZUZ1bmN0aW9ucy5tZXJnZU90aGVycyh2YWx1ZXMsIHV0aWxzLCBtZXRhKTtcblx0aWYgKFxuXHRcdHJlc3VsdCA9PT0gYWN0aW9ucy5kZWZhdWx0TWVyZ2UgfHxcblx0XHQodXRpbHMudXNlSW1wbGljaXREZWZhdWx0TWVyZ2luZyAmJlxuXHRcdFx0cmVzdWx0ID09PSB2b2lkIDAgJiZcblx0XHRcdHV0aWxzLm1lcmdlRnVuY3Rpb25zLm1lcmdlT3RoZXJzICE9PSB1dGlscy5kZWZhdWx0TWVyZ2VGdW5jdGlvbnMubWVyZ2VPdGhlcnMpXG5cdCkge1xuXHRcdHJldHVybiB1dGlscy5kZWZhdWx0TWVyZ2VGdW5jdGlvbnMubWVyZ2VPdGhlcnModmFsdWVzKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBzcmMvbmV4dC9lcnJvcnMvYmFpbG91dC10by1jc3IudHNcbnZhciBCQUlMT1VUX1RPX0NTUiA9IFwiQkFJTE9VVF9UT19DTElFTlRfU0lERV9SRU5ERVJJTkdcIjtcbmZ1bmN0aW9uIGlzQmFpbG91dFRvQ1NSRXJyb3IoZXJyKSB7XG5cdGlmICh0eXBlb2YgZXJyICE9PSBcIm9iamVjdFwiIHx8IGVyciA9PT0gbnVsbCB8fCAhKFwiZGlnZXN0XCIgaW4gZXJyKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRyZXR1cm4gZXJyLmRpZ2VzdCA9PT0gQkFJTE9VVF9UT19DU1I7XG59XG5cbi8vIHNyYy9uZXh0L2Vycm9ycy9odHRwLWFjY2Vzcy1mYWxsYmFjay50c1xudmFyIEhUVFBBY2Nlc3NFcnJvclN0YXR1cyA9IHtcblx0Tk9UX0ZPVU5EOiA0MDQsXG5cdEZPUkJJRERFTjogNDAzLFxuXHRVTkFVVEhPUklaRUQ6IDQwMSxcbn07XG52YXIgQUxMT1dFRF9DT0RFUyA9IG5ldyBTZXQoT2JqZWN0LnZhbHVlcyhIVFRQQWNjZXNzRXJyb3JTdGF0dXMpKTtcbnZhciBIVFRQX0VSUk9SX0ZBTExCQUNLX0VSUk9SX0NPREUgPSBcIk5FWFRfSFRUUF9FUlJPUl9GQUxMQkFDS1wiO1xuZnVuY3Rpb24gaXNIVFRQQWNjZXNzRmFsbGJhY2tFcnJvcihlcnJvcikge1xuXHRpZiAodHlwZW9mIGVycm9yICE9PSBcIm9iamVjdFwiIHx8IGVycm9yID09PSBudWxsIHx8ICEoXCJkaWdlc3RcIiBpbiBlcnJvcikgfHwgdHlwZW9mIGVycm9yLmRpZ2VzdCAhPT0gXCJzdHJpbmdcIikge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRjb25zdCBbcHJlZml4LCBodHRwU3RhdHVzXSA9IGVycm9yLmRpZ2VzdC5zcGxpdChcIjtcIik7XG5cdHJldHVybiBwcmVmaXggPT09IEhUVFBfRVJST1JfRkFMTEJBQ0tfRVJST1JfQ09ERSAmJiBBTExPV0VEX0NPREVTLmhhcyhOdW1iZXIoaHR0cFN0YXR1cykpO1xufVxuZnVuY3Rpb24gZ2V0QWNjZXNzRmFsbGJhY2tIVFRQU3RhdHVzKGVycm9yKSB7XG5cdGNvbnN0IGh0dHBTdGF0dXMgPSBlcnJvci5kaWdlc3Quc3BsaXQoXCI7XCIpWzFdO1xuXHRyZXR1cm4gTnVtYmVyKGh0dHBTdGF0dXMpO1xufVxuXG4vLyBzcmMvbmV4dC9lcnJvcnMvcmVkaXJlY3QudHNcbnZhciBSZWRpcmVjdFN0YXR1c0NvZGUgPSAvKiBAX19QVVJFX18gKi8gKChSZWRpcmVjdFN0YXR1c0NvZGUyKSA9PiB7XG5cdFJlZGlyZWN0U3RhdHVzQ29kZTJbKFJlZGlyZWN0U3RhdHVzQ29kZTJbXCJTZWVPdGhlclwiXSA9IDMwMyldID0gXCJTZWVPdGhlclwiO1xuXHRSZWRpcmVjdFN0YXR1c0NvZGUyWyhSZWRpcmVjdFN0YXR1c0NvZGUyW1wiVGVtcG9yYXJ5UmVkaXJlY3RcIl0gPSAzMDcpXSA9IFwiVGVtcG9yYXJ5UmVkaXJlY3RcIjtcblx0UmVkaXJlY3RTdGF0dXNDb2RlMlsoUmVkaXJlY3RTdGF0dXNDb2RlMltcIlBlcm1hbmVudFJlZGlyZWN0XCJdID0gMzA4KV0gPSBcIlBlcm1hbmVudFJlZGlyZWN0XCI7XG5cdHJldHVybiBSZWRpcmVjdFN0YXR1c0NvZGUyO1xufSkoUmVkaXJlY3RTdGF0dXNDb2RlIHx8IHt9KTtcbnZhciBSRURJUkVDVF9FUlJPUl9DT0RFID0gXCJORVhUX1JFRElSRUNUXCI7XG5mdW5jdGlvbiBpc1JlZGlyZWN0RXJyb3IoZXJyb3IpIHtcblx0aWYgKHR5cGVvZiBlcnJvciAhPT0gXCJvYmplY3RcIiB8fCBlcnJvciA9PT0gbnVsbCB8fCAhKFwiZGlnZXN0XCIgaW4gZXJyb3IpIHx8IHR5cGVvZiBlcnJvci5kaWdlc3QgIT09IFwic3RyaW5nXCIpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Y29uc3QgZGlnZXN0ID0gZXJyb3IuZGlnZXN0LnNwbGl0KFwiO1wiKTtcblx0Y29uc3QgW2Vycm9yQ29kZSwgdHlwZV0gPSBkaWdlc3Q7XG5cdGNvbnN0IGRlc3RpbmF0aW9uID0gZGlnZXN0LnNsaWNlKDIsIC0yKS5qb2luKFwiO1wiKTtcblx0Y29uc3Qgc3RhdHVzID0gZGlnZXN0LmF0KC0yKTtcblx0Y29uc3Qgc3RhdHVzQ29kZSA9IE51bWJlcihzdGF0dXMpO1xuXHRyZXR1cm4gKFxuXHRcdGVycm9yQ29kZSA9PT0gUkVESVJFQ1RfRVJST1JfQ09ERSAmJlxuXHRcdCh0eXBlID09PSBcInJlcGxhY2VcIiB8fCB0eXBlID09PSBcInB1c2hcIikgJiZcblx0XHR0eXBlb2YgZGVzdGluYXRpb24gPT09IFwic3RyaW5nXCIgJiZcblx0XHQhaXNOYU4oc3RhdHVzQ29kZSkgJiZcblx0XHRzdGF0dXNDb2RlIGluIFJlZGlyZWN0U3RhdHVzQ29kZVxuXHQpO1xufVxuXG4vLyBzcmMvbmV4dC9lcnJvcnMvcm91dGVyLnRzXG5mdW5jdGlvbiBpc05leHRSb3V0ZXJFcnJvcihlcnJvcikge1xuXHRyZXR1cm4gaXNSZWRpcmVjdEVycm9yKGVycm9yKSB8fCBpc0hUVFBBY2Nlc3NGYWxsYmFja0Vycm9yKGVycm9yKTtcbn1cblxuLy8gc3JjL25leHQvZXJyb3JzL2R5bmFtaWMtdXNhZ2UudHNcbnZhciBEWU5BTUlDX0VSUk9SX0NPREUgPSBcIkRZTkFNSUNfU0VSVkVSX1VTQUdFXCI7XG5mdW5jdGlvbiBpc0R5bmFtaWNTZXJ2ZXJFcnJvcihlcnIpIHtcblx0aWYgKHR5cGVvZiBlcnIgIT09IFwib2JqZWN0XCIgfHwgZXJyID09PSBudWxsIHx8ICEoXCJkaWdlc3RcIiBpbiBlcnIpIHx8IHR5cGVvZiBlcnIuZGlnZXN0ICE9PSBcInN0cmluZ1wiKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHJldHVybiBlcnIuZGlnZXN0ID09PSBEWU5BTUlDX0VSUk9SX0NPREU7XG59XG5mdW5jdGlvbiBpc0R5bmFtaWNQb3N0cG9uZVJlYXNvbihyZWFzb24pIHtcblx0cmV0dXJuIChcblx0XHRyZWFzb24uaW5jbHVkZXMoXCJuZWVkcyB0byBiYWlsIG91dCBvZiBwcmVyZW5kZXJpbmcgYXQgdGhpcyBwb2ludCBiZWNhdXNlIGl0IHVzZWRcIikgJiZcblx0XHRyZWFzb24uaW5jbHVkZXMoXCJMZWFybiBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9wcHItY2F1Z2h0LWVycm9yXCIpXG5cdCk7XG59XG5mdW5jdGlvbiBpc0R5bmFtaWNQb3N0cG9uZShlcnIpIHtcblx0aWYgKFxuXHRcdHR5cGVvZiBlcnIgPT09IFwib2JqZWN0XCIgJiZcblx0XHRlcnIgIT09IG51bGwgJiYgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cdFx0dHlwZW9mIGVyci5tZXNzYWdlID09PSBcInN0cmluZ1wiXG5cdCkge1xuXHRcdHJldHVybiBpc0R5bmFtaWNQb3N0cG9uZVJlYXNvbihlcnIubWVzc2FnZSk7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxudmFyIGlzRHluYW1pY1VzYWdlRXJyb3IgPSAoZXJyKSA9PlxuXHRpc0R5bmFtaWNTZXJ2ZXJFcnJvcihlcnIpIHx8IGlzQmFpbG91dFRvQ1NSRXJyb3IoZXJyKSB8fCBpc05leHRSb3V0ZXJFcnJvcihlcnIpIHx8IGlzRHluYW1pY1Bvc3Rwb25lKGVycik7XG5cbi8vIHNyYy9uZXh0L2Vycm9ycy9wb3N0cG9uZS50c1xudmFyIFJFQUNUX1BPU1RQT05FX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9zdHBvbmVcIik7XG5mdW5jdGlvbiBpc1Bvc3Rwb25lKGVycm9yKSB7XG5cdHJldHVybiAoXG5cdFx0dHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiICYmXG5cdFx0ZXJyb3IgIT09IG51bGwgJiYgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cdFx0ZXJyb3IuJCR0eXBlb2YgPT09IFJFQUNUX1BPU1RQT05FX1RZUEVcblx0KTtcbn1cblxuLy8gc3JjL25leHQvZXJyb3JzL2luZGV4LnRzXG52YXIgRnJhbWV3b3JrRXJyb3JIYW5kbGVyID0gY2xhc3MgX0ZyYW1ld29ya0Vycm9ySGFuZGxlciB7XG5cdCNmcmFtZXdvcmtFcnJvcjtcblx0c3RhdGljIGlzTmF2aWdhdGlvbkVycm9yKGVycm9yKSB7XG5cdFx0cmV0dXJuIGlzTmV4dFJvdXRlckVycm9yKGVycm9yKSB8fCBpc0JhaWxvdXRUb0NTUkVycm9yKGVycm9yKSB8fCBpc0R5bmFtaWNVc2FnZUVycm9yKGVycm9yKSB8fCBpc1Bvc3Rwb25lKGVycm9yKTtcblx0fVxuXHRzdGF0aWMgZ2V0TmF2aWdhdGlvbktpbmQoZXJyb3IpIHtcblx0XHRpZiAoaXNSZWRpcmVjdEVycm9yKGVycm9yKSkge1xuXHRcdFx0cmV0dXJuIFwicmVkaXJlY3RcIjtcblx0XHR9IGVsc2UgaWYgKGlzSFRUUEFjY2Vzc0ZhbGxiYWNrRXJyb3IoZXJyb3IpICYmIGdldEFjY2Vzc0ZhbGxiYWNrSFRUUFN0YXR1cyhlcnJvcikgPT09IDQwNCkge1xuXHRcdFx0cmV0dXJuIFwibm90Rm91bmRcIjtcblx0XHR9IGVsc2UgaWYgKGlzSFRUUEFjY2Vzc0ZhbGxiYWNrRXJyb3IoZXJyb3IpICYmIGdldEFjY2Vzc0ZhbGxiYWNrSFRUUFN0YXR1cyhlcnJvcikgPT09IDQwMykge1xuXHRcdFx0cmV0dXJuIFwiZm9yYmlkZGVuXCI7XG5cdFx0fSBlbHNlIGlmIChpc0hUVFBBY2Nlc3NGYWxsYmFja0Vycm9yKGVycm9yKSAmJiBnZXRBY2Nlc3NGYWxsYmFja0hUVFBTdGF0dXMoZXJyb3IpID09PSA0MDEpIHtcblx0XHRcdHJldHVybiBcInVuYXV0aG9yaXplZFwiO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gXCJvdGhlclwiO1xuXHRcdH1cblx0fVxuXHQvLyBVc2VkIGluIGFjdGlvbiBidWlsZGVyLlxuXHRoYW5kbGVFcnJvcihlKSB7XG5cdFx0aWYgKF9GcmFtZXdvcmtFcnJvckhhbmRsZXIuaXNOYXZpZ2F0aW9uRXJyb3IoZSkpIHtcblx0XHRcdHRoaXMuI2ZyYW1ld29ya0Vycm9yID0gZTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhyb3cgZTtcblx0fVxuXHRnZXQgZXJyb3IoKSB7XG5cdFx0cmV0dXJuIHRoaXMuI2ZyYW1ld29ya0Vycm9yO1xuXHR9XG59O1xuXG4vLyBzcmMvc3RhbmRhcmQtc2NoZW1hLnRzXG5hc3luYyBmdW5jdGlvbiBzdGFuZGFyZFBhcnNlKHNjaGVtYSwgdmFsdWUpIHtcblx0cmV0dXJuIHNjaGVtYVtcIn5zdGFuZGFyZFwiXS52YWxpZGF0ZSh2YWx1ZSk7XG59XG5cbi8vIHNyYy91dGlscy50c1xudmFyIERFRkFVTFRfU0VSVkVSX0VSUk9SX01FU1NBR0UgPSBcIlNvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIGV4ZWN1dGluZyB0aGUgb3BlcmF0aW9uLlwiO1xudmFyIGlzRXJyb3IgPSAoZXJyb3IpID0+IGVycm9yIGluc3RhbmNlb2YgRXJyb3I7XG52YXIgd2lubmluZ0Jvb2xlYW4gPSAoLi4uYXJncykgPT4ge1xuXHRyZXR1cm4gYXJncy5yZWR1Y2UoKGFjYywgdikgPT4gKHR5cGVvZiB2ID09PSBcImJvb2xlYW5cIiA/IHYgOiBhY2MpLCBmYWxzZSk7XG59O1xuXG4vLyBzcmMvdmFsaWRhdGlvbi1lcnJvcnMudHNcbnZhciBnZXRLZXkgPSAoc2VnbWVudCkgPT4gKHR5cGVvZiBzZWdtZW50ID09PSBcIm9iamVjdFwiID8gc2VnbWVudC5rZXkgOiBzZWdtZW50KTtcbnZhciBnZXRJc3N1ZU1lc3NhZ2UgPSAoaXNzdWUpID0+IHtcblx0aWYgKGlzc3VlLnVuaW9uRXJyb3JzKSB7XG5cdFx0cmV0dXJuIGlzc3VlLnVuaW9uRXJyb3JzLm1hcCgodSkgPT4gdS5pc3N1ZXMubWFwKChpKSA9PiBpLm1lc3NhZ2UpKS5mbGF0KCk7XG5cdH1cblx0cmV0dXJuIGlzc3VlLm1lc3NhZ2U7XG59O1xudmFyIGJ1aWxkVmFsaWRhdGlvbkVycm9ycyA9IChpc3N1ZXMpID0+IHtcblx0Y29uc3QgdmUgPSB7fTtcblx0Zm9yIChjb25zdCBpc3N1ZSBvZiBpc3N1ZXMpIHtcblx0XHRjb25zdCB7IHBhdGgsIG1lc3NhZ2UsIHVuaW9uRXJyb3JzIH0gPSBpc3N1ZTtcblx0XHRpZiAoIXBhdGggfHwgcGF0aC5sZW5ndGggPT09IDApIHtcblx0XHRcdHZlLl9lcnJvcnMgPSB2ZS5fZXJyb3JzID8gWy4uLnZlLl9lcnJvcnMsIG1lc3NhZ2VdIDogW21lc3NhZ2VdO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXHRcdGxldCByZWYgPSB2ZTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSsrKSB7XG5cdFx0XHRjb25zdCBrID0gZ2V0S2V5KHBhdGhbaV0pO1xuXHRcdFx0aWYgKCFyZWZba10pIHtcblx0XHRcdFx0cmVmW2tdID0ge307XG5cdFx0XHR9XG5cdFx0XHRyZWYgPSByZWZba107XG5cdFx0fVxuXHRcdGNvbnN0IGtleSA9IGdldEtleShwYXRoW3BhdGgubGVuZ3RoIC0gMV0pO1xuXHRcdGNvbnN0IGlzc3VlTWVzc2FnZSA9IGdldElzc3VlTWVzc2FnZShpc3N1ZSk7XG5cdFx0cmVmW2tleV0gPSByZWZba2V5XT8uX2Vycm9yc1xuXHRcdFx0PyB7XG5cdFx0XHRcdFx0Li4uc3RydWN0dXJlZENsb25lKHJlZltrZXldKSxcblx0XHRcdFx0XHRfZXJyb3JzOiBbLi4ucmVmW2tleV0uX2Vycm9ycywgaXNzdWVNZXNzYWdlXSxcblx0XHRcdFx0fVxuXHRcdFx0OiB7IC4uLnN0cnVjdHVyZWRDbG9uZShyZWZba2V5XSksIF9lcnJvcnM6IHVuaW9uRXJyb3JzID8gaXNzdWVNZXNzYWdlIDogW2lzc3VlTWVzc2FnZV0gfTtcblx0fVxuXHRyZXR1cm4gdmU7XG59O1xudmFyIEFjdGlvblNlcnZlclZhbGlkYXRpb25FcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuXHR2YWxpZGF0aW9uRXJyb3JzO1xuXHRjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uRXJyb3JzKSB7XG5cdFx0c3VwZXIoXCJTZXJ2ZXIgQWN0aW9uIHNlcnZlciB2YWxpZGF0aW9uIGVycm9yKHMpIG9jY3VycmVkXCIpO1xuXHRcdHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHZhbGlkYXRpb25FcnJvcnM7XG5cdH1cbn07XG52YXIgQWN0aW9uVmFsaWRhdGlvbkVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG5cdHZhbGlkYXRpb25FcnJvcnM7XG5cdGNvbnN0cnVjdG9yKHZhbGlkYXRpb25FcnJvcnMsIG92ZXJyaWRkZW5FcnJvck1lc3NhZ2UpIHtcblx0XHRzdXBlcihvdmVycmlkZGVuRXJyb3JNZXNzYWdlID8/IFwiU2VydmVyIEFjdGlvbiB2YWxpZGF0aW9uIGVycm9yKHMpIG9jY3VycmVkXCIpO1xuXHRcdHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHZhbGlkYXRpb25FcnJvcnM7XG5cdH1cbn07XG52YXIgQWN0aW9uQmluZEFyZ3NWYWxpZGF0aW9uRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcblx0dmFsaWRhdGlvbkVycm9ycztcblx0Y29uc3RydWN0b3IodmFsaWRhdGlvbkVycm9ycykge1xuXHRcdHN1cGVyKFwiU2VydmVyIEFjdGlvbiBiaW5kIGFyZ3MgdmFsaWRhdGlvbiBlcnJvcihzKSBvY2N1cnJlZFwiKTtcblx0XHR0aGlzLnZhbGlkYXRpb25FcnJvcnMgPSB2YWxpZGF0aW9uRXJyb3JzO1xuXHR9XG59O1xuZnVuY3Rpb24gcmV0dXJuVmFsaWRhdGlvbkVycm9ycyhzY2hlbWEsIHZhbGlkYXRpb25FcnJvcnMpIHtcblx0dGhyb3cgbmV3IEFjdGlvblNlcnZlclZhbGlkYXRpb25FcnJvcih2YWxpZGF0aW9uRXJyb3JzKTtcbn1cbmZ1bmN0aW9uIGZvcm1hdFZhbGlkYXRpb25FcnJvcnModmFsaWRhdGlvbkVycm9ycykge1xuXHRyZXR1cm4gdmFsaWRhdGlvbkVycm9ycztcbn1cbmZ1bmN0aW9uIGZsYXR0ZW5WYWxpZGF0aW9uRXJyb3JzKHZhbGlkYXRpb25FcnJvcnMpIHtcblx0Y29uc3QgZmxhdHRlbmVkID0ge1xuXHRcdGZvcm1FcnJvcnM6IFtdLFxuXHRcdGZpZWxkRXJyb3JzOiB7fSxcblx0fTtcblx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModmFsaWRhdGlvbkVycm9ycyA/PyB7fSkpIHtcblx0XHRpZiAoa2V5ID09PSBcIl9lcnJvcnNcIiAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0ZmxhdHRlbmVkLmZvcm1FcnJvcnMgPSBbLi4udmFsdWVdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoXCJfZXJyb3JzXCIgaW4gdmFsdWUpIHtcblx0XHRcdFx0ZmxhdHRlbmVkLmZpZWxkRXJyb3JzW2tleV0gPSBbLi4udmFsdWUuX2Vycm9yc107XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBmbGF0dGVuZWQ7XG59XG52YXIgQWN0aW9uTWV0YWRhdGFWYWxpZGF0aW9uRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcblx0dmFsaWRhdGlvbkVycm9ycztcblx0Y29uc3RydWN0b3IodmFsaWRhdGlvbkVycm9ycykge1xuXHRcdHN1cGVyKFwiSW52YWxpZCBtZXRhZGF0YSBpbnB1dC4gUGxlYXNlIGJlIHN1cmUgdG8gcGFzcyBtZXRhZGF0YSB2aWEgYG1ldGFkYXRhYCBtZXRob2QgYmVmb3JlIGRlZmluaW5nIHRoZSBhY3Rpb24uXCIpO1xuXHRcdHRoaXMubmFtZSA9IFwiQWN0aW9uTWV0YWRhdGFFcnJvclwiO1xuXHRcdHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHZhbGlkYXRpb25FcnJvcnM7XG5cdH1cbn07XG52YXIgQWN0aW9uT3V0cHV0RGF0YVZhbGlkYXRpb25FcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuXHR2YWxpZGF0aW9uRXJyb3JzO1xuXHRjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uRXJyb3JzKSB7XG5cdFx0c3VwZXIoXG5cdFx0XHRcIkludmFsaWQgYWN0aW9uIGRhdGEgKG91dHB1dCkuIFBsZWFzZSBiZSBzdXJlIHRvIHJldHVybiBkYXRhIGZvbGxvd2luZyB0aGUgc2hhcGUgb2YgdGhlIHNjaGVtYSBwYXNzZWQgdG8gYGRhdGFTY2hlbWFgIG1ldGhvZC5cIlxuXHRcdCk7XG5cdFx0dGhpcy5uYW1lID0gXCJBY3Rpb25PdXRwdXREYXRhRXJyb3JcIjtcblx0XHR0aGlzLnZhbGlkYXRpb25FcnJvcnMgPSB2YWxpZGF0aW9uRXJyb3JzO1xuXHR9XG59O1xuXG4vLyBzcmMvYWN0aW9uLWJ1aWxkZXIudHNcbmZ1bmN0aW9uIGFjdGlvbkJ1aWxkZXIoYXJncykge1xuXHRjb25zdCBiaW5kQXJnc1NjaGVtYXMgPSBhcmdzLmJpbmRBcmdzU2NoZW1hcyA/PyBbXTtcblx0ZnVuY3Rpb24gYnVpbGRBY3Rpb24oeyB3aXRoU3RhdGUgfSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRhY3Rpb246IChzZXJ2ZXJDb2RlRm4sIHV0aWxzKSA9PiB7XG5cdFx0XHRcdHJldHVybiBhc3luYyAoLi4uY2xpZW50SW5wdXRzKSA9PiB7XG5cdFx0XHRcdFx0bGV0IGN1cnJlbnRDdHggPSB7fTtcblx0XHRcdFx0XHRjb25zdCBtaWRkbGV3YXJlUmVzdWx0ID0geyBzdWNjZXNzOiBmYWxzZSB9O1xuXHRcdFx0XHRcdGxldCBwcmV2UmVzdWx0ID0ge307XG5cdFx0XHRcdFx0Y29uc3QgcGFyc2VkSW5wdXREYXRhcyA9IFtdO1xuXHRcdFx0XHRcdGNvbnN0IGZyYW1ld29ya0Vycm9ySGFuZGxlciA9IG5ldyBGcmFtZXdvcmtFcnJvckhhbmRsZXIoKTtcblx0XHRcdFx0XHRsZXQgc2VydmVyRXJyb3JIYW5kbGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0aWYgKHdpdGhTdGF0ZSkge1xuXHRcdFx0XHRcdFx0cHJldlJlc3VsdCA9IGNsaWVudElucHV0cy5zcGxpY2UoYmluZEFyZ3NTY2hlbWFzLmxlbmd0aCwgMSlbMF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChiaW5kQXJnc1NjaGVtYXMubGVuZ3RoICsgMSA+IGNsaWVudElucHV0cy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGNsaWVudElucHV0cy5wdXNoKHZvaWQgMCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnN0IGV4ZWN1dGVNaWRkbGV3YXJlU3RhY2sgPSBhc3luYyAoaWR4ID0gMCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGZyYW1ld29ya0Vycm9ySGFuZGxlci5lcnJvcikge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRjb25zdCBtaWRkbGV3YXJlRm4gPSBhcmdzLm1pZGRsZXdhcmVGbnNbaWR4XTtcblx0XHRcdFx0XHRcdG1pZGRsZXdhcmVSZXN1bHQuY3R4ID0gY3VycmVudEN0eDtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGlmIChpZHggPT09IDApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoYXJncy5tZXRhZGF0YVNjaGVtYSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgcGFyc2VkTWQgPSBhd2FpdCBzdGFuZGFyZFBhcnNlKGFyZ3MubWV0YWRhdGFTY2hlbWEsIGFyZ3MubWV0YWRhdGEpO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHBhcnNlZE1kLmlzc3Vlcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgQWN0aW9uTWV0YWRhdGFWYWxpZGF0aW9uRXJyb3IoYnVpbGRWYWxpZGF0aW9uRXJyb3JzKHBhcnNlZE1kLmlzc3VlcykpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAobWlkZGxld2FyZUZuKSB7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgbWlkZGxld2FyZUZuKHtcblx0XHRcdFx0XHRcdFx0XHRcdGNsaWVudElucHV0OiBjbGllbnRJbnB1dHMuYXQoLTEpLFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gcGFzcyByYXcgY2xpZW50IGlucHV0XG5cdFx0XHRcdFx0XHRcdFx0XHRiaW5kQXJnc0NsaWVudElucHV0czogYmluZEFyZ3NTY2hlbWFzLmxlbmd0aCA/IGNsaWVudElucHV0cy5zbGljZSgwLCAtMSkgOiBbXSxcblx0XHRcdFx0XHRcdFx0XHRcdGN0eDogY3VycmVudEN0eCxcblx0XHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhOiBhcmdzLm1ldGFkYXRhLFxuXHRcdFx0XHRcdFx0XHRcdFx0bmV4dDogYXN5bmMgKG5leHRPcHRzKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRDdHggPSBkZWVwbWVyZ2UoY3VycmVudEN0eCwgbmV4dE9wdHM/LmN0eCA/PyB7fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IGV4ZWN1dGVNaWRkbGV3YXJlU3RhY2soaWR4ICsgMSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBtaWRkbGV3YXJlUmVzdWx0O1xuXHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaCgoZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZnJhbWV3b3JrRXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGZyYW1ld29ya0Vycm9ySGFuZGxlci5lcnJvcikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRtaWRkbGV3YXJlUmVzdWx0LnN1Y2Nlc3MgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWlkZGxld2FyZVJlc3VsdC5uYXZpZ2F0aW9uS2luZCA9IEZyYW1ld29ya0Vycm9ySGFuZGxlci5nZXROYXZpZ2F0aW9uS2luZChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmcmFtZXdvcmtFcnJvckhhbmRsZXIuZXJyb3Jcblx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBwYXJzZWRJbnB1dHMgPSBhd2FpdCBQcm9taXNlLmFsbChcblx0XHRcdFx0XHRcdFx0XHRcdGNsaWVudElucHV0cy5tYXAoYXN5bmMgKGlucHV0LCBpKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChpID09PSBjbGllbnRJbnB1dHMubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICh0eXBlb2YgYXJncy5pbnB1dFNjaGVtYUZuID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogdm9pZCAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHN0YW5kYXJkUGFyc2UoYXdhaXQgYXJncy5pbnB1dFNjaGVtYUZuKCksIGlucHV0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc3RhbmRhcmRQYXJzZShiaW5kQXJnc1NjaGVtYXNbaV0sIGlucHV0KTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRsZXQgaGFzQmluZFZhbGlkYXRpb25FcnJvcnMgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBiaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnMgPSBBcnJheShwYXJzZWRJbnB1dHMubGVuZ3RoIC0gMSkuZmlsbCh7fSk7XG5cdFx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwYXJzZWRJbnB1dHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHBhcnNlZElucHV0ID0gcGFyc2VkSW5wdXRzW2ldO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFwYXJzZWRJbnB1dC5pc3N1ZXMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cGFyc2VkSW5wdXREYXRhcy5wdXNoKHBhcnNlZElucHV0LnZhbHVlKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChpIDwgcGFyc2VkSW5wdXRzLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiaW5kQXJnc1ZhbGlkYXRpb25FcnJvcnNbaV0gPSBidWlsZFZhbGlkYXRpb25FcnJvcnMocGFyc2VkSW5wdXQuaXNzdWVzKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRoYXNCaW5kVmFsaWRhdGlvbkVycm9ycyA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgdmFsaWRhdGlvbkVycm9ycyA9IGJ1aWxkVmFsaWRhdGlvbkVycm9ycyhwYXJzZWRJbnB1dC5pc3N1ZXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1pZGRsZXdhcmVSZXN1bHQudmFsaWRhdGlvbkVycm9ycyA9IGF3YWl0IFByb21pc2UucmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MuaGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlKHZhbGlkYXRpb25FcnJvcnMsIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xpZW50SW5wdXQ6IGNsaWVudElucHV0cy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJpbmRBcmdzQ2xpZW50SW5wdXRzOiBiaW5kQXJnc1NjaGVtYXMubGVuZ3RoID8gY2xpZW50SW5wdXRzLnNsaWNlKDAsIC0xKSA6IFtdLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjdHg6IGN1cnJlbnRDdHgsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhOiBhcmdzLm1ldGFkYXRhLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmIChoYXNCaW5kVmFsaWRhdGlvbkVycm9ycykge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEFjdGlvbkJpbmRBcmdzVmFsaWRhdGlvbkVycm9yKGJpbmRBcmdzVmFsaWRhdGlvbkVycm9ycyk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmIChtaWRkbGV3YXJlUmVzdWx0LnZhbGlkYXRpb25FcnJvcnMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3Qgc2NmQXJncyA9IFtdO1xuXHRcdFx0XHRcdFx0XHRcdHNjZkFyZ3NbMF0gPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwYXJzZWRJbnB1dDogcGFyc2VkSW5wdXREYXRhcy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0XHRiaW5kQXJnc1BhcnNlZElucHV0czogcGFyc2VkSW5wdXREYXRhcy5zbGljZSgwLCAtMSksXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGllbnRJbnB1dDogY2xpZW50SW5wdXRzLmF0KC0xKSxcblx0XHRcdFx0XHRcdFx0XHRcdGJpbmRBcmdzQ2xpZW50SW5wdXRzOiBiaW5kQXJnc1NjaGVtYXMubGVuZ3RoID8gY2xpZW50SW5wdXRzLnNsaWNlKDAsIC0xKSA6IFtdLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y3R4OiBjdXJyZW50Q3R4LFxuXHRcdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGE6IGFyZ3MubWV0YWRhdGEsXG5cdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRpZiAod2l0aFN0YXRlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRzY2ZBcmdzWzFdID0geyBwcmV2UmVzdWx0OiBzdHJ1Y3R1cmVkQ2xvbmUocHJldlJlc3VsdCkgfTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHNlcnZlckNvZGVGbiguLi5zY2ZBcmdzKS5jYXRjaCgoZSkgPT4gZnJhbWV3b3JrRXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAodHlwZW9mIGFyZ3Mub3V0cHV0U2NoZW1hICE9PSBcInVuZGVmaW5lZFwiICYmICFmcmFtZXdvcmtFcnJvckhhbmRsZXIuZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHBhcnNlZERhdGEgPSBhd2FpdCBzdGFuZGFyZFBhcnNlKGFyZ3Mub3V0cHV0U2NoZW1hLCBkYXRhKTtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChwYXJzZWREYXRhLmlzc3Vlcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgQWN0aW9uT3V0cHV0RGF0YVZhbGlkYXRpb25FcnJvcihidWlsZFZhbGlkYXRpb25FcnJvcnMocGFyc2VkRGF0YS5pc3N1ZXMpKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGZyYW1ld29ya0Vycm9ySGFuZGxlci5lcnJvcikge1xuXHRcdFx0XHRcdFx0XHRcdFx0bWlkZGxld2FyZVJlc3VsdC5zdWNjZXNzID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHRtaWRkbGV3YXJlUmVzdWx0Lm5hdmlnYXRpb25LaW5kID0gRnJhbWV3b3JrRXJyb3JIYW5kbGVyLmdldE5hdmlnYXRpb25LaW5kKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmcmFtZXdvcmtFcnJvckhhbmRsZXIuZXJyb3Jcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdG1pZGRsZXdhcmVSZXN1bHQuc3VjY2VzcyA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRtaWRkbGV3YXJlUmVzdWx0LmRhdGEgPSBkYXRhO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRtaWRkbGV3YXJlUmVzdWx0LnBhcnNlZElucHV0ID0gcGFyc2VkSW5wdXREYXRhcy5hdCgtMSk7XG5cdFx0XHRcdFx0XHRcdFx0bWlkZGxld2FyZVJlc3VsdC5iaW5kQXJnc1BhcnNlZElucHV0cyA9IHBhcnNlZElucHV0RGF0YXMuc2xpY2UoMCwgLTEpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChzZXJ2ZXJFcnJvckhhbmRsZWQpIHtcblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmIChlIGluc3RhbmNlb2YgQWN0aW9uU2VydmVyVmFsaWRhdGlvbkVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgdmUgPSBlLnZhbGlkYXRpb25FcnJvcnM7XG5cdFx0XHRcdFx0XHRcdFx0bWlkZGxld2FyZVJlc3VsdC52YWxpZGF0aW9uRXJyb3JzID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdFx0YXJncy5oYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGUodmUsIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xpZW50SW5wdXQ6IGNsaWVudElucHV0cy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJpbmRBcmdzQ2xpZW50SW5wdXRzOiBiaW5kQXJnc1NjaGVtYXMubGVuZ3RoID8gY2xpZW50SW5wdXRzLnNsaWNlKDAsIC0xKSA6IFtdLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjdHg6IGN1cnJlbnRDdHgsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhOiBhcmdzLm1ldGFkYXRhLFxuXHRcdFx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHNlcnZlckVycm9ySGFuZGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZXJyb3IgPSBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihERUZBVUxUX1NFUlZFUl9FUlJPUl9NRVNTQUdFKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCByZXR1cm5lZEVycm9yID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdFx0YXJncy5oYW5kbGVTZXJ2ZXJFcnJvcihlcnJvciwge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGllbnRJbnB1dDogY2xpZW50SW5wdXRzLmF0KC0xKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gcGFzcyByYXcgY2xpZW50IGlucHV0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJpbmRBcmdzQ2xpZW50SW5wdXRzOiBiaW5kQXJnc1NjaGVtYXMubGVuZ3RoID8gY2xpZW50SW5wdXRzLnNsaWNlKDAsIC0xKSA6IFtdLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjdHg6IGN1cnJlbnRDdHgsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhOiBhcmdzLm1ldGFkYXRhLFxuXHRcdFx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdG1pZGRsZXdhcmVSZXN1bHQuc2VydmVyRXJyb3IgPSByZXR1cm5lZEVycm9yO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRhd2FpdCBleGVjdXRlTWlkZGxld2FyZVN0YWNrKCk7XG5cdFx0XHRcdFx0Y29uc3QgY2FsbGJhY2tQcm9taXNlcyA9IFtdO1xuXHRcdFx0XHRcdGlmIChmcmFtZXdvcmtFcnJvckhhbmRsZXIuZXJyb3IpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrUHJvbWlzZXMucHVzaChcblx0XHRcdFx0XHRcdFx0dXRpbHM/Lm9uTmF2aWdhdGlvbj8uKHtcblx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YTogYXJncy5tZXRhZGF0YSxcblx0XHRcdFx0XHRcdFx0XHRjdHg6IGN1cnJlbnRDdHgsXG5cdFx0XHRcdFx0XHRcdFx0Y2xpZW50SW5wdXQ6IGNsaWVudElucHV0cy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0YmluZEFyZ3NDbGllbnRJbnB1dHM6IGJpbmRBcmdzU2NoZW1hcy5sZW5ndGggPyBjbGllbnRJbnB1dHMuc2xpY2UoMCwgLTEpIDogW10sXG5cdFx0XHRcdFx0XHRcdFx0bmF2aWdhdGlvbktpbmQ6IEZyYW1ld29ya0Vycm9ySGFuZGxlci5nZXROYXZpZ2F0aW9uS2luZChmcmFtZXdvcmtFcnJvckhhbmRsZXIuZXJyb3IpLFxuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrUHJvbWlzZXMucHVzaChcblx0XHRcdFx0XHRcdFx0dXRpbHM/Lm9uU2V0dGxlZD8uKHtcblx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YTogYXJncy5tZXRhZGF0YSxcblx0XHRcdFx0XHRcdFx0XHRjdHg6IGN1cnJlbnRDdHgsXG5cdFx0XHRcdFx0XHRcdFx0Y2xpZW50SW5wdXQ6IGNsaWVudElucHV0cy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0YmluZEFyZ3NDbGllbnRJbnB1dHM6IGJpbmRBcmdzU2NoZW1hcy5sZW5ndGggPyBjbGllbnRJbnB1dHMuc2xpY2UoMCwgLTEpIDogW10sXG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0OiB7fSxcblx0XHRcdFx0XHRcdFx0XHRuYXZpZ2F0aW9uS2luZDogRnJhbWV3b3JrRXJyb3JIYW5kbGVyLmdldE5hdmlnYXRpb25LaW5kKGZyYW1ld29ya0Vycm9ySGFuZGxlci5lcnJvciksXG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwoY2FsbGJhY2tQcm9taXNlcyk7XG5cdFx0XHRcdFx0XHR0aHJvdyBmcmFtZXdvcmtFcnJvckhhbmRsZXIuZXJyb3I7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnN0IGFjdGlvblJlc3VsdCA9IHt9O1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgbWlkZGxld2FyZVJlc3VsdC52YWxpZGF0aW9uRXJyb3JzICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRcdHdpbm5pbmdCb29sZWFuKFxuXHRcdFx0XHRcdFx0XHRcdGFyZ3MudGhyb3dWYWxpZGF0aW9uRXJyb3JzLFxuXHRcdFx0XHRcdFx0XHRcdHR5cGVvZiB1dGlscz8udGhyb3dWYWxpZGF0aW9uRXJyb3JzID09PSBcInVuZGVmaW5lZFwiID8gdm9pZCAwIDogQm9vbGVhbih1dGlscy50aHJvd1ZhbGlkYXRpb25FcnJvcnMpXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBvdmVycmlkZUVycm9yTWVzc2FnZUZuID1cblx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgdXRpbHM/LnRocm93VmFsaWRhdGlvbkVycm9ycyA9PT0gXCJvYmplY3RcIiAmJiB1dGlscz8udGhyb3dWYWxpZGF0aW9uRXJyb3JzLm92ZXJyaWRlRXJyb3JNZXNzYWdlXG5cdFx0XHRcdFx0XHRcdFx0XHQ/IHV0aWxzPy50aHJvd1ZhbGlkYXRpb25FcnJvcnMub3ZlcnJpZGVFcnJvck1lc3NhZ2Vcblx0XHRcdFx0XHRcdFx0XHRcdDogdm9pZCAwO1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgQWN0aW9uVmFsaWRhdGlvbkVycm9yKFxuXHRcdFx0XHRcdFx0XHRcdG1pZGRsZXdhcmVSZXN1bHQudmFsaWRhdGlvbkVycm9ycyxcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCBvdmVycmlkZUVycm9yTWVzc2FnZUZuPy4obWlkZGxld2FyZVJlc3VsdC52YWxpZGF0aW9uRXJyb3JzKVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0YWN0aW9uUmVzdWx0LnZhbGlkYXRpb25FcnJvcnMgPSBtaWRkbGV3YXJlUmVzdWx0LnZhbGlkYXRpb25FcnJvcnM7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICh0eXBlb2YgbWlkZGxld2FyZVJlc3VsdC5zZXJ2ZXJFcnJvciAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRcdFx0aWYgKHV0aWxzPy50aHJvd1NlcnZlckVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93IG1pZGRsZXdhcmVSZXN1bHQuc2VydmVyRXJyb3I7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRhY3Rpb25SZXN1bHQuc2VydmVyRXJyb3IgPSBtaWRkbGV3YXJlUmVzdWx0LnNlcnZlckVycm9yO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAobWlkZGxld2FyZVJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIG1pZGRsZXdhcmVSZXN1bHQuZGF0YSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRcdFx0XHRhY3Rpb25SZXN1bHQuZGF0YSA9IG1pZGRsZXdhcmVSZXN1bHQuZGF0YTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNhbGxiYWNrUHJvbWlzZXMucHVzaChcblx0XHRcdFx0XHRcdFx0dXRpbHM/Lm9uU3VjY2Vzcz8uKHtcblx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YTogYXJncy5tZXRhZGF0YSxcblx0XHRcdFx0XHRcdFx0XHRjdHg6IGN1cnJlbnRDdHgsXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YTogYWN0aW9uUmVzdWx0LmRhdGEsXG5cdFx0XHRcdFx0XHRcdFx0Y2xpZW50SW5wdXQ6IGNsaWVudElucHV0cy5hdCgtMSksXG5cdFx0XHRcdFx0XHRcdFx0YmluZEFyZ3NDbGllbnRJbnB1dHM6IGJpbmRBcmdzU2NoZW1hcy5sZW5ndGggPyBjbGllbnRJbnB1dHMuc2xpY2UoMCwgLTEpIDogW10sXG5cdFx0XHRcdFx0XHRcdFx0cGFyc2VkSW5wdXQ6IHBhcnNlZElucHV0RGF0YXMuYXQoLTEpLFxuXHRcdFx0XHRcdFx0XHRcdGJpbmRBcmdzUGFyc2VkSW5wdXRzOiBwYXJzZWRJbnB1dERhdGFzLnNsaWNlKDAsIC0xKSxcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrUHJvbWlzZXMucHVzaChcblx0XHRcdFx0XHRcdFx0dXRpbHM/Lm9uRXJyb3I/Lih7XG5cdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGE6IGFyZ3MubWV0YWRhdGEsXG5cdFx0XHRcdFx0XHRcdFx0Y3R4OiBjdXJyZW50Q3R4LFxuXHRcdFx0XHRcdFx0XHRcdGNsaWVudElucHV0OiBjbGllbnRJbnB1dHMuYXQoLTEpLFxuXHRcdFx0XHRcdFx0XHRcdGJpbmRBcmdzQ2xpZW50SW5wdXRzOiBiaW5kQXJnc1NjaGVtYXMubGVuZ3RoID8gY2xpZW50SW5wdXRzLnNsaWNlKDAsIC0xKSA6IFtdLFxuXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBhY3Rpb25SZXN1bHQsXG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjYWxsYmFja1Byb21pc2VzLnB1c2goXG5cdFx0XHRcdFx0XHR1dGlscz8ub25TZXR0bGVkPy4oe1xuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YTogYXJncy5tZXRhZGF0YSxcblx0XHRcdFx0XHRcdFx0Y3R4OiBjdXJyZW50Q3R4LFxuXHRcdFx0XHRcdFx0XHRjbGllbnRJbnB1dDogY2xpZW50SW5wdXRzLmF0KC0xKSxcblx0XHRcdFx0XHRcdFx0YmluZEFyZ3NDbGllbnRJbnB1dHM6IGJpbmRBcmdzU2NoZW1hcy5sZW5ndGggPyBjbGllbnRJbnB1dHMuc2xpY2UoMCwgLTEpIDogW10sXG5cdFx0XHRcdFx0XHRcdHJlc3VsdDogYWN0aW9uUmVzdWx0LFxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGF3YWl0IFByb21pc2UuYWxsKGNhbGxiYWNrUHJvbWlzZXMpO1xuXHRcdFx0XHRcdHJldHVybiBhY3Rpb25SZXN1bHQ7XG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHtcblx0XHQvKipcblx0XHQgKiBEZWZpbmUgdGhlIGFjdGlvbi5cblx0XHQgKiBAcGFyYW0gc2VydmVyQ29kZUZuIENvZGUgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIG9uIHRoZSAqKnNlcnZlciBzaWRlKipcblx0XHQgKlxuXHRcdCAqIHtAbGluayBodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZGVmaW5lLWFjdGlvbnMvaW5zdGFuY2UtbWV0aG9kcyNhY3Rpb24tLXN0YXRlYWN0aW9uIFNlZSBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9ufVxuXHRcdCAqL1xuXHRcdGFjdGlvbjogYnVpbGRBY3Rpb24oeyB3aXRoU3RhdGU6IGZhbHNlIH0pLmFjdGlvbixcblx0XHQvKipcblx0XHQgKiBEZWZpbmUgdGhlIHN0YXRlZnVsIGFjdGlvbi4gVG8gYmUgdXNlZCB3aXRoIHRoZSBbYHVzZVN0YXRlQWN0aW9uYF0oaHR0cHM6Ly9uZXh0LXNhZmUtYWN0aW9uLmRldi9kb2NzL2V4ZWN1dGUtYWN0aW9ucy9ob29rcy91c2VzdGF0ZWFjdGlvbikgaG9vay5cblx0XHQgKiBAcGFyYW0gc2VydmVyQ29kZUZuIENvZGUgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIG9uIHRoZSAqKnNlcnZlciBzaWRlKipcblx0XHQgKlxuXHRcdCAqIHtAbGluayBodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZGVmaW5lLWFjdGlvbnMvaW5zdGFuY2UtbWV0aG9kcyNhY3Rpb24tLXN0YXRlYWN0aW9uIFNlZSBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9ufVxuXHRcdCAqL1xuXHRcdHN0YXRlQWN0aW9uOiBidWlsZEFjdGlvbih7IHdpdGhTdGF0ZTogdHJ1ZSB9KS5hY3Rpb24sXG5cdH07XG59XG5cbi8vIHNyYy9zYWZlLWFjdGlvbi1jbGllbnQudHNcbnZhciBTYWZlQWN0aW9uQ2xpZW50ID0gY2xhc3MgX1NhZmVBY3Rpb25DbGllbnQge1xuXHQjYXJncztcblx0Y29uc3RydWN0b3IoYXJncykge1xuXHRcdHRoaXMuI2FyZ3MgPSBhcmdzO1xuXHR9XG5cdC8qKlxuXHQgKiBVc2UgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uLlxuXHQgKiBAcGFyYW0gbWlkZGxld2FyZUZuIE1pZGRsZXdhcmUgZnVuY3Rpb25cblx0ICpcblx0ICoge0BsaW5rIGh0dHBzOi8vbmV4dC1zYWZlLWFjdGlvbi5kZXYvZG9jcy9kZWZpbmUtYWN0aW9ucy9pbnN0YW5jZS1tZXRob2RzI3VzZSBTZWUgZG9jcyBmb3IgbW9yZSBpbmZvcm1hdGlvbn1cblx0ICovXG5cdHVzZShtaWRkbGV3YXJlRm4pIHtcblx0XHRyZXR1cm4gbmV3IF9TYWZlQWN0aW9uQ2xpZW50KHtcblx0XHRcdC4uLnRoaXMuI2FyZ3MsXG5cdFx0XHRtaWRkbGV3YXJlRm5zOiBbLi4udGhpcy4jYXJncy5taWRkbGV3YXJlRm5zLCBtaWRkbGV3YXJlRm5dLFxuXHRcdFx0Y3R4VHlwZToge30sXG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCAqIERlZmluZSBtZXRhZGF0YSBmb3IgdGhlIGFjdGlvbi5cblx0ICogQHBhcmFtIGRhdGEgTWV0YWRhdGEgd2l0aCB0aGUgc2FtZSB0eXBlIGFzIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIFtgZGVmaW5lTWV0YWRhdGFTY2hlbWFgXShodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZGVmaW5lLWFjdGlvbnMvY3JlYXRlLXRoZS1jbGllbnQjZGVmaW5lbWV0YWRhdGFzY2hlbWEpIG9wdGlvbmFsIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uXG5cdCAqXG5cdCAqIHtAbGluayBodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZGVmaW5lLWFjdGlvbnMvaW5zdGFuY2UtbWV0aG9kcyNtZXRhZGF0YSBTZWUgZG9jcyBmb3IgbW9yZSBpbmZvcm1hdGlvbn1cblx0ICovXG5cdG1ldGFkYXRhKGRhdGEpIHtcblx0XHRyZXR1cm4gbmV3IF9TYWZlQWN0aW9uQ2xpZW50KHtcblx0XHRcdC4uLnRoaXMuI2FyZ3MsXG5cdFx0XHRtZXRhZGF0YTogZGF0YSxcblx0XHRcdG1ldGFkYXRhUHJvdmlkZWQ6IHRydWUsXG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCAqIERlZmluZSB0aGUgaW5wdXQgdmFsaWRhdGlvbiBzY2hlbWEgZm9yIHRoZSBhY3Rpb24uXG5cdCAqIEBwYXJhbSBpbnB1dFNjaGVtYSBJbnB1dCB2YWxpZGF0aW9uIHNjaGVtYVxuXHQgKiBAcGFyYW0gdXRpbHMgT3B0aW9uYWwgdXRpbHMgb2JqZWN0XG5cdCAqXG5cdCAqIHtAbGluayBodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZGVmaW5lLWFjdGlvbnMvY3JlYXRlLXRoZS1jbGllbnQjaW5wdXRzY2hlbWEgU2VlIGRvY3MgZm9yIG1vcmUgaW5mb3JtYXRpb259XG5cdCAqL1xuXHRpbnB1dFNjaGVtYShpbnB1dFNjaGVtYSwgdXRpbHMpIHtcblx0XHRyZXR1cm4gbmV3IF9TYWZlQWN0aW9uQ2xpZW50KHtcblx0XHRcdC4uLnRoaXMuI2FyZ3MsXG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRpbnB1dFNjaGVtYUZuOlxuXHRcdFx0XHRpbnB1dFNjaGVtYVtTeW1ib2wudG9TdHJpbmdUYWddID09PSBcIkFzeW5jRnVuY3Rpb25cIlxuXHRcdFx0XHRcdD8gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBwcmV2U2NoZW1hID0gYXdhaXQgdGhpcy4jYXJncy5pbnB1dFNjaGVtYUZuPy4oKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGlucHV0U2NoZW1hKHByZXZTY2hlbWEpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdDogYXN5bmMgKCkgPT4gaW5wdXRTY2hlbWEsXG5cdFx0XHRoYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGU6IHV0aWxzPy5oYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGUgPz8gdGhpcy4jYXJncy5oYW5kbGVWYWxpZGF0aW9uRXJyb3JzU2hhcGUsXG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCAqIEBkZXByZWNhdGVkIEFsaWFzIGZvciBgaW5wdXRTY2hlbWFgIG1ldGhvZC4gVXNlIHRoYXQgaW5zdGVhZC5cblx0ICovXG5cdHNjaGVtYSA9IHRoaXMuaW5wdXRTY2hlbWE7XG5cdC8qKlxuXHQgKiBEZWZpbmUgdGhlIGJpbmQgYXJncyBpbnB1dCB2YWxpZGF0aW9uIHNjaGVtYSBmb3IgdGhlIGFjdGlvbi5cblx0ICogQHBhcmFtIGJpbmRBcmdzU2NoZW1hcyBCaW5kIGFyZ3MgaW5wdXQgdmFsaWRhdGlvbiBzY2hlbWFzXG5cdCAqXG5cdCAqIHtAbGluayBodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZGVmaW5lLWFjdGlvbnMvaW5zdGFuY2UtbWV0aG9kcyNiaW5kYXJnc3NjaGVtYXMgU2VlIGRvY3MgZm9yIG1vcmUgaW5mb3JtYXRpb259XG5cdCAqL1xuXHRiaW5kQXJnc1NjaGVtYXMoYmluZEFyZ3NTY2hlbWFzKSB7XG5cdFx0cmV0dXJuIG5ldyBfU2FmZUFjdGlvbkNsaWVudCh7XG5cdFx0XHQuLi50aGlzLiNhcmdzLFxuXHRcdFx0YmluZEFyZ3NTY2hlbWFzLFxuXHRcdFx0aGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlOiB0aGlzLiNhcmdzLmhhbmRsZVZhbGlkYXRpb25FcnJvcnNTaGFwZSxcblx0XHR9KTtcblx0fVxuXHQvKipcblx0ICogRGVmaW5lIHRoZSBvdXRwdXQgZGF0YSB2YWxpZGF0aW9uIHNjaGVtYSBmb3IgdGhlIGFjdGlvbi5cblx0ICogQHBhcmFtIHNjaGVtYSBPdXRwdXQgZGF0YSB2YWxpZGF0aW9uIHNjaGVtYVxuXHQgKlxuXHQgKiB7QGxpbmsgaHR0cHM6Ly9uZXh0LXNhZmUtYWN0aW9uLmRldi9kb2NzL2RlZmluZS1hY3Rpb25zL2NyZWF0ZS10aGUtY2xpZW50I291dHB1dHNjaGVtYSBTZWUgZG9jcyBmb3IgbW9yZSBpbmZvcm1hdGlvbn1cblx0ICovXG5cdG91dHB1dFNjaGVtYShkYXRhU2NoZW1hKSB7XG5cdFx0cmV0dXJuIG5ldyBfU2FmZUFjdGlvbkNsaWVudCh7XG5cdFx0XHQuLi50aGlzLiNhcmdzLFxuXHRcdFx0b3V0cHV0U2NoZW1hOiBkYXRhU2NoZW1hLFxuXHRcdH0pO1xuXHR9XG5cdC8qKlxuXHQgKiBEZWZpbmUgdGhlIGFjdGlvbi5cblx0ICogQHBhcmFtIHNlcnZlckNvZGVGbiBDb2RlIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBvbiB0aGUgKipzZXJ2ZXIgc2lkZSoqXG5cdCAqIEBwYXJhbSBbY2JdIE9wdGlvbmFsIGNhbGxiYWNrcyB0aGF0IHdpbGwgYmUgY2FsbGVkIGFmdGVyIGFjdGlvbiBleGVjdXRpb24sIG9uIHRoZSBzZXJ2ZXIuXG5cdCAqXG5cdCAqIHtAbGluayBodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZGVmaW5lLWFjdGlvbnMvaW5zdGFuY2UtbWV0aG9kcyNhY3Rpb24tLXN0YXRlYWN0aW9uIFNlZSBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9ufVxuXHQgKi9cblx0YWN0aW9uKHNlcnZlckNvZGVGbiwgdXRpbHMpIHtcblx0XHRyZXR1cm4gYWN0aW9uQnVpbGRlcih0aGlzLiNhcmdzKS5hY3Rpb24oc2VydmVyQ29kZUZuLCB1dGlscyk7XG5cdH1cblx0LyoqXG5cdCAqIERlZmluZSB0aGUgc3RhdGVmdWwgYWN0aW9uLlxuXHQgKiBUbyBiZSB1c2VkIHdpdGggdGhlIFtgdXNlU3RhdGVBY3Rpb25gXShodHRwczovL25leHQtc2FmZS1hY3Rpb24uZGV2L2RvY3MvZXhlY3V0ZS1hY3Rpb25zL2hvb2tzL3VzZXN0YXRlYWN0aW9uKSBob29rLlxuXHQgKiBAcGFyYW0gc2VydmVyQ29kZUZuIENvZGUgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIG9uIHRoZSAqKnNlcnZlciBzaWRlKipcblx0ICogQHBhcmFtIFtjYl0gT3B0aW9uYWwgY2FsbGJhY2tzIHRoYXQgd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgYWN0aW9uIGV4ZWN1dGlvbiwgb24gdGhlIHNlcnZlci5cblx0ICpcblx0ICoge0BsaW5rIGh0dHBzOi8vbmV4dC1zYWZlLWFjdGlvbi5kZXYvZG9jcy9kZWZpbmUtYWN0aW9ucy9pbnN0YW5jZS1tZXRob2RzI2FjdGlvbi0tc3RhdGVhY3Rpb24gU2VlIGRvY3MgZm9yIG1vcmUgaW5mb3JtYXRpb259XG5cdCAqL1xuXHRzdGF0ZUFjdGlvbihzZXJ2ZXJDb2RlRm4sIHV0aWxzKSB7XG5cdFx0cmV0dXJuIGFjdGlvbkJ1aWxkZXIodGhpcy4jYXJncykuc3RhdGVBY3Rpb24oc2VydmVyQ29kZUZuLCB1dGlscyk7XG5cdH1cbn07XG5cbi8vIHNyYy9taWRkbGV3YXJlLnRzXG52YXIgY3JlYXRlTWlkZGxld2FyZSA9ICgpID0+IHtcblx0cmV0dXJuIHtcblx0XHRkZWZpbmU6IChtaWRkbGV3YXJlRm4pID0+IG1pZGRsZXdhcmVGbixcblx0fTtcbn07XG5cbi8vIHNyYy9pbmRleC50c1xudmFyIGNyZWF0ZVNhZmVBY3Rpb25DbGllbnQgPSAoY3JlYXRlT3B0cykgPT4ge1xuXHRjb25zdCBoYW5kbGVTZXJ2ZXJFcnJvciA9XG5cdFx0Y3JlYXRlT3B0cz8uaGFuZGxlU2VydmVyRXJyb3IgfHxcblx0XHQoKGUpID0+IHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJBY3Rpb24gZXJyb3I6XCIsIGUubWVzc2FnZSk7XG5cdFx0XHRyZXR1cm4gREVGQVVMVF9TRVJWRVJfRVJST1JfTUVTU0FHRTtcblx0XHR9KTtcblx0cmV0dXJuIG5ldyBTYWZlQWN0aW9uQ2xpZW50KHtcblx0XHRtaWRkbGV3YXJlRm5zOiBbYXN5bmMgKHsgbmV4dCB9KSA9PiBuZXh0KHsgY3R4OiB7fSB9KV0sXG5cdFx0aGFuZGxlU2VydmVyRXJyb3IsXG5cdFx0aW5wdXRTY2hlbWFGbjogdm9pZCAwLFxuXHRcdGJpbmRBcmdzU2NoZW1hczogW10sXG5cdFx0b3V0cHV0U2NoZW1hOiB2b2lkIDAsXG5cdFx0Y3R4VHlwZToge30sXG5cdFx0bWV0YWRhdGFTY2hlbWE6IGNyZWF0ZU9wdHM/LmRlZmluZU1ldGFkYXRhU2NoZW1hPy4oKSA/PyB2b2lkIDAsXG5cdFx0bWV0YWRhdGE6IHZvaWQgMCxcblx0XHRkZWZhdWx0VmFsaWRhdGlvbkVycm9yc1NoYXBlOiBjcmVhdGVPcHRzPy5kZWZhdWx0VmFsaWRhdGlvbkVycm9yc1NoYXBlID8/IFwiZm9ybWF0dGVkXCIsXG5cdFx0dGhyb3dWYWxpZGF0aW9uRXJyb3JzOiBCb29sZWFuKGNyZWF0ZU9wdHM/LnRocm93VmFsaWRhdGlvbkVycm9ycyksXG5cdFx0aGFuZGxlVmFsaWRhdGlvbkVycm9yc1NoYXBlOiBhc3luYyAodmUpID0+XG5cdFx0XHRjcmVhdGVPcHRzPy5kZWZhdWx0VmFsaWRhdGlvbkVycm9yc1NoYXBlID09PSBcImZsYXR0ZW5lZFwiXG5cdFx0XHRcdD8gZmxhdHRlblZhbGlkYXRpb25FcnJvcnModmUpXG5cdFx0XHRcdDogZm9ybWF0VmFsaWRhdGlvbkVycm9ycyh2ZSksXG5cdH0pO1xufTtcbmV4cG9ydCB7XG5cdEFjdGlvbkJpbmRBcmdzVmFsaWRhdGlvbkVycm9yLFxuXHRBY3Rpb25NZXRhZGF0YVZhbGlkYXRpb25FcnJvcixcblx0QWN0aW9uT3V0cHV0RGF0YVZhbGlkYXRpb25FcnJvcixcblx0QWN0aW9uVmFsaWRhdGlvbkVycm9yLFxuXHRERUZBVUxUX1NFUlZFUl9FUlJPUl9NRVNTQUdFLFxuXHRjcmVhdGVNaWRkbGV3YXJlLFxuXHRjcmVhdGVTYWZlQWN0aW9uQ2xpZW50LFxuXHRmbGF0dGVuVmFsaWRhdGlvbkVycm9ycyxcblx0Zm9ybWF0VmFsaWRhdGlvbkVycm9ycyxcblx0cmV0dXJuVmFsaWRhdGlvbkVycm9ycyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/next-safe-action/dist/index.mjs\n");

/***/ })

};
;